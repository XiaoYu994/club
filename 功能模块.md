# 社团管理小程序

## 一、系统概述

社团招新小程序是一个面向高校社团的综合管理平台，主要用于社团信息展示、招新管理、成员管理、活动组织等功能。系统采用前后端分离架构，前端使用UniApp框架开发（支持微信小程序及其他平台），后端采用Java Spring Boot框架开发。

### 核心业务场景

1. **社团展示与招新**：学生浏览社团信息，查看招新要求，提交申请
2. **社团管理**：管理员管理社团信息、成员和活动
3. **社团交流**：成员间进行群聊和私聊，分享资源
4. **活动组织**：发布活动，成员报名参与，活动签到
5. **系统管理**：系统管理员管理整个平台，分配权限
6. **资源与财务管理**：管理社团物资、场地和经费
7. **数据分析与决策支持**：提供数据统计和可视化分析

## 二、核心功能模块

### 1. 用户管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 用户注册 | 支持学号注册和微信授权注册 | 微信授权API、数据加密 | 高 |
| 用户登录 | 账号密码登录、微信快捷登录 | JWT认证、Session管理 | 高 |
| 个人信息管理 | 修改个人资料、头像上传 | 文件上传、图片处理 | 中 |
| 权限控制 | 基于角色的访问控制 | RBAC模型、权限拦截器 | 高 |

**数据表关联**：
- club_user（用户表）
- club_admin（管理员表）
- club_admin_relation（社团管理员关联表）

#### 1.1 页面规划

1. **登录页面**
   - 微信一键登录按钮
   - 账号密码登录表单
   - 注册入口

2. **注册页面**
   - 基本信息表单（姓名、学号、密码等）
   - 学院/专业/班级选择器
   - 用户协议和隐私政策

3. **个人中心页面**
   - 用户基本信息展示
   - 我的社团列表
   - 我的申请记录
   - 设置入口

4. **个人信息编辑页面**
   - 头像上传
   - 基本信息编辑
   - 联系方式修改

#### 1.2 关键交互

- **微信授权流程**：获取用户基本信息 → 检查是否已注册 → 自动登录/引导完善信息
- **账号注册流程**：填写信息 → 验证有效性 → 创建账号 → 登录系统
- **权限校验流程**：请求接口 → JWT验证 → 角色权限验证 → 返回数据/拒绝访问

### 2. 社团管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 社团信息管理 | 创建、编辑、查看社团信息 | 富文本编辑、图片上传 | 高 |
| 社团成员管理 | 成员列表、添加/删除成员、职位调整 | 批量操作、数据筛选 | 高 |
| 部门管理 | 创建、编辑、删除部门，分配成员 | 树形结构、拖拽排序 | 中 |
| 社团数据统计 | 成员数量、活动参与度等统计 | 数据可视化、聚合查询 | 低 |

**数据表关联**：
- club_info（社团信息表）
- club_member（社团成员表）
- club_department（社团部门表）

#### 2.1 页面规划

1. **社团列表页面**
   - 社团分类筛选
   - 社团卡片列表（展示名称、logo、简介）
   - 搜索功能

2. **社团详情页面**
   - 社团基本信息（名称、logo、简介等）
   - 社团公告区
   - 活动展示区
   - 招新信息（如有）
   - 成员入口（仅成员可见）
   - 管理入口（仅管理员可见）

3. **社团管理页面**
   - 社团信息编辑
   - 成员管理入口
   - 部门管理入口
   - 招新管理入口
   - 活动管理入口
   - 数据统计入口

4. **成员管理页面**
   - 成员列表（支持筛选、搜索）
   - 成员详情查看
   - 职位/部门调整功能
   - 批量操作功能

5. **部门管理页面**
   - 部门列表
   - 部门创建/编辑表单
   - 部门成员分配

#### 2.2 关键交互

- **社团创建流程**：系统管理员创建社团 → 设置初始管理员 → 社团信息完善
- **成员管理流程**：查看成员列表 → 选择成员 → 修改职位/部门 → 保存更新
- **部门管理流程**：创建部门 → 设置部门信息 → 分配成员 → 调整排序

### 3. 招新管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 招新时间管理 | 系统管理员统一设置招新时间窗口 | 时间范围控制、冲突检测 | 高 |
| 招新活动发布 | 社团管理员在允许时间窗口内创建招新计划 | 日期选择器、表单验证 | 高 |
| 自定义表单 | 根据社团需求定制招新申请表单 | 动态表单、JSON存储 | 高 |
| 申请审核 | 查看申请列表、审核申请、安排面试 | 状态流转、批量操作 | 高 |
| 面试管理 | 面试时间安排、面试评价记录 | 日程管理、评分系统 | 中 |
| 录取管理 | 发送录取通知、自动添加为社团成员 | 消息推送、数据联动 | 中 |

**数据表关联**：
- club_recruitment_config（招新配置表）
- club_recruitment（社团招新表）
- club_apply（社团申请表）

#### 3.1 页面规划

1. **招新时间配置页面**（系统管理员）
   - 学期招新时间窗口设置
   - 各类社团招新批次管理
   - 招新时间冲突检测

2. **招新列表页面**
   - 当前进行中的招新活动列表
   - 历史招新记录
   - 创建招新入口（社团管理员）

3. **招新详情页面**
   - 招新信息展示（时间、要求、流程等）
   - 申请表单
   - 申请状态查看（已申请用户）

4. **招新表单设计页面**（社团管理员）
   - 拖拽式表单设计器
   - 表单项类型选择（文本、单选、多选、上传等）
   - 表单预览功能

5. **申请管理页面**（社团管理员）
   - 申请列表（支持筛选、状态分类）
   - 申请详情查看
   - 批量审核功能
   - 面试安排功能

6. **面试管理页面**（社团管理员）
   - 面试日程表
   - 面试记录填写
   - 面试结果评定

#### 3.2 关键交互

- **招新时间设置流程**：系统管理员设置全校招新时间窗口 → 配置不同类型社团的招新批次 → 通知社团管理员
- **招新发布流程**：社团管理员在允许时间窗口内 → 创建招新 → 设计申请表单 → 设置招新要求 → 提交审核 → 系统审核时间合规性 → 发布
- **申请提交流程**：学生浏览招新信息 → 填写申请表单 → 提交申请 → 等待审核
- **申请审核流程**：社团管理员查看申请 → 评估信息 → 决定通过/拒绝/面试 → 发送通知
- **面试流程**：安排面试时间 → 通知申请者 → 记录面试结果 → 决定录取

#### 3.3 招新时间管理机制

1. **分级管理模式**
   - 系统管理员：设置全校统一招新时间窗口（如第3-5周）
   - 系统管理员：可按社团类型设置不同批次（如学术类第3周，文艺类第4周）
   - 社团管理员：在分配的时间窗口内安排具体招新活动

2. **时间冲突处理**
   - 系统自动检测并阻止超出允许时间窗口的招新发布
   - 为特殊情况提供申请例外的流程（需系统管理员审批）
   - 提供招新时间冲突可视化展示

3. **通知与提醒机制**
   - 招新时间窗口开放前自动提醒社团管理员
   - 招新时间即将结束时发送提醒
   - 系统管理员变更招新时间时通知受影响的社团

### 4. 活动管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 活动发布 | 创建、编辑、发布社团活动 | 富文本编辑、图片上传 | 中 |
| 活动报名 | 成员和非成员报名参加活动、报名审核 | 自定义表单、数据存储 | 中 |
| 活动签到 | 活动开始时参与者签到功能 | 二维码生成、扫码签到 | 中 |
| 活动统计 | 参与人数、签到率、活动反馈统计 | 数据可视化、反馈收集 | 低 |

**数据表关联**：
- club_activity（社团活动表）
- club_activity_apply（活动报名表）

#### 4.1 页面规划

1. **活动列表页面**
   - 活动卡片列表（分类展示：进行中、计划中、已结束）
   - 活动搜索和筛选
   - 创建活动入口（管理员）

2. **活动详情页面**
   - 活动基本信息（标题、时间、地点等）
   - 活动详细描述
   - 报名按钮/报名表单
   - 参与成员列表（管理员可见）
   - 签到码展示（活动开始时）
   - 报名状态显示（已报名用户）

3. **活动创建/编辑页面**（管理员）
   - 活动信息表单
   - 海报上传
   - 报名表单设计（可选）
   - 活动设置（是否需要报名、签到、是否仅限社团成员等）

4. **活动报名管理页面**（管理员）
   - 报名用户列表（支持筛选：已审核/未审核/已拒绝）
   - 用户报名信息查看
   - 报名审核操作
   - 批量审核功能

5. **活动签到页面**
   - 签到二维码/签到码展示
   - 签到状态实时更新
   - 签到人员列表（管理员可见）
   - 手动签到功能（管理员）

6. **个人活动记录页面**
   - 已报名活动列表
   - 报名状态跟踪
   - 历史活动参与记录

7. **活动数据统计页面**（管理员）
   - 参与人数统计图表
   - 签到率分析
   - 反馈数据分析
   - 活动效果评估

#### 4.2 关键交互

- **活动发布流程**：创建活动 → 设置活动信息 → 设计报名表单（可选）→ 设置活动权限（是否仅限社团成员）→ 发布

- **活动报名流程**：
  1. 浏览活动信息 → 点击报名按钮
  2. 填写报名表单 → 提交报名
  3. 若需审核：等待审核结果 → 收到审核通知
  4. 若无需审核：直接报名成功 → 获取活动提醒

- **报名审核流程**：
  1. 管理员查看报名列表 → 选择报名记录
  2. 查看报名表单内容 → 决定通过/拒绝
  3. 添加反馈信息 → 提交审核结果
  4. 系统向用户发送审核结果通知

- **活动签到流程**：
  1. 管理员生成签到码/二维码 → 参与者打开活动详情
  2. 参与者点击签到 → 扫描二维码/输入签到码
  3. 系统验证签到有效性 → 记录签到状态和时间
  4. 签到成功提示 → 更新签到统计

- **数据统计流程**：
  1. 活动结束后系统自动统计参与数据
  2. 管理员查看统计图表 → 分析活动效果
  3. 导出报名/签到数据 → 用于后续分析

#### 4.3 活动类型与权限

1. **活动类型**
   - **社团内部活动**：仅社团成员可见和报名
   - **公开活动**：所有用户可见和报名
   - **特定条件活动**：所有人可见，但设置报名条件筛选

2. **报名审核机制**
   - **自动通过**：适用于内部小型活动，报名即参与
   - **人工审核**：适用于资源有限或有筛选需求的活动
   - **分级审核**：大型活动可设置多级审核流程

3. **签到方式**
   - **二维码签到**：生成唯一二维码，参与者扫码签到
   - **签到码签到**：生成数字/字母签到码，手动输入
   - **管理员确认**：管理员在系统中手动确认参与者签到
   - **定位签到**：结合地理位置信息验证签到有效性（可选）

4. **活动反馈机制**
   - 活动结束后向参与者发送反馈问卷
   - 收集活动评分和建议
   - 汇总分析反馈数据，用于改进未来活动

### 5. 通知公告模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 公告发布 | 创建、编辑、发布社团公告 | 富文本编辑、定时发布 | 中 |
| 消息推送 | 向社团成员推送消息 | 微信模板消息、消息队列 | 中 |
| 阅读状态 | 跟踪消息阅读状态 | 实时统计、已读回执 | 低 |

**数据表关联**：
- club_notice（社团通知公告表）
- club_message（社团消息表）
- club_message_read（消息阅读表）

#### 5.1 页面规划

1. **公告列表页面**
   - 公告列表（分类：重要公告、普通公告）
   - 未读标记
   - 发布公告入口（管理员）

2. **公告详情页面**
   - 公告内容展示
   - 附件查看/下载
   - 已读人数统计（管理员可见）

3. **公告发布页面**（管理员）
   - 公告编辑器（标题、内容、类型）
   - 附件上传
   - 发布设置（立即发布/定时发布）

4. **消息中心页面**
   - 系统消息列表
   - 社团消息列表
   - 未读消息标记

#### 5.2 关键交互

- **公告发布流程**：创建公告 → 编辑内容 → 设置类型和附件 → 发布/定时发布
- **消息推送流程**：选择推送对象 → 编写消息内容 → 发送消息 → 系统推送到用户
- **阅读统计流程**：用户查看公告 → 系统记录已读状态 → 更新阅读统计

### 6. 社团内部聊天模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 社团群聊 | 社团成员在公共频道交流 | WebSocket、消息缓存 | 中 |
| 私聊功能 | 社团成员之间一对一交流 | 实时通信、消息加密 | 中 |
| 消息管理 | 历史消息查询、删除、撤回 | 消息持久化、权限控制 | 中 |
| 多媒体消息 | 支持图片、语音、文件等多媒体消息 | 文件上传、多媒体处理 | 低 |
| 消息通知 | 未读消息提醒、@提及功能 | 消息推送、状态同步 | 中 |

**数据表关联**：
- club_chat_group（社团聊天群组表）
- club_chat_message（聊天消息表）
- club_chat_user_relation（用户-群组关系表）
- club_chat_read_status（消息阅读状态表）

#### 6.1 页面规划

1. **聊天列表页面**
   - 最近会话列表（群聊和私聊）
   - 未读消息标记和数量
   - 搜索功能

2. **聊天详情页面**
   - 消息展示区（支持不同消息类型）
   - 输入区（文本输入、表情、多媒体）
   - 群信息/用户信息入口

3. **群组信息页面**
   - 群基本信息（名称、头像、描述）
   - 成员列表
   - 群管理功能（管理员）

4. **群组管理页面**（管理员）
   - 成员管理（添加、移除、禁言）
   - 群设置（名称、头像、公告等）

5. **媒体文件页面**
   - 群内/私聊共享的图片列表
   - 文件列表
   - 语音消息列表

#### 6.2 关键交互

- **加入社团聊天流程**：成功加入社团 → 系统自动将用户加入社团公共群 → 用户可立即参与聊天
- **发送消息流程**：输入消息 → 选择发送类型（文本/图片/语音等）→ 发送 → 实时推送给其他成员
- **消息接收流程**：WebSocket接收消息 → 展示在聊天界面 → 未读状态处理
- **多媒体处理流程**：选择多媒体类型 → 拍摄/上传/录制 → 预览 → 发送 → 对方接收并展示

### 7. 退社管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 退社申请 | 成员提交退社申请 | 表单提交、原因分析 | 低 |
| 审核流程 | 管理员审核退社申请 | 工作流、审批链 | 低 |
| 历史记录 | 维护成员加入退出历史 | 日志记录、数据归档 | 低 |

**数据表关联**：
- club_quit（社团退出申请表）

#### 7.1 页面规划

1. **退社申请页面**
   - 退社原因填写
   - 申请提交
   - 状态查看

2. **退社申请管理页面**（管理员）
   - 申请列表
   - 申请详情查看
   - 审核操作（通过/拒绝）

3. **成员历史记录页面**（管理员）
   - 成员加入退出记录
   - 历史数据统计

#### 7.2 关键交互

- **退社申请流程**：提交申请 → 填写退社原因 → 提交 → 等待审核
- **退社审核流程**：管理员查看申请 → 评估原因 → 决定通过/拒绝 → 系统更新成员状态

### 8. 系统管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 管理员账号管理 | 创建、编辑、删除管理员账号 | 密码加密、角色分配 | 高 |
| 权限分配 | 为管理员分配不同权限 | 权限树、菜单控制 | 高 |
| 系统配置 | 基础设置、权限规则配置 | 配置中心、热更新 | 中 |

**数据表关联**：
- club_admin（管理员表）
- club_setup（系统设置表）

#### 8.1 页面规划

1. **系统管理首页**
   - 系统概览数据
   - 功能入口卡片

2. **管理员账号页面**
   - 管理员列表
   - 添加/编辑管理员表单
   - 权限分配

3. **权限管理页面**
   - 权限规则列表
   - 角色管理
   - 权限分配矩阵

4. **系统配置页面**
   - 基础设置（系统名称、Logo等）
   - 功能开关设置
   - 安全策略设置

#### 8.2 关键交互

- **管理员创建流程**：填写基本信息 → 设置初始密码 → 分配角色和权限 → 创建账号
- **权限分配流程**：选择管理员 → 设置角色 → 细化权限项 → 保存设置
- **系统配置流程**：修改配置项 → 预览效果 → 应用更改 → 系统更新

### 9. 资源管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 物资管理 | 社团物资登记、借用、归还 | 库存管理、状态追踪 | 中 |
| 场地预约 | 活动场地申请与审批 | 冲突检测、日历管理 | 中 |
| 设备借用 | 音响、投影仪等设备借用管理 | 借用工作流、状态更新 | 中 |
| 资源共享 | 社团间资源共享与交换 | 资源池、权限控制 | 低 |

**数据表关联**：
- club_resource（社团资源表）
- club_resource_usage（资源使用记录表）
- club_venue（场地信息表）
- club_venue_booking（场地预约表）

#### 9.1 页面规划

1. **资源管理首页**
   - 物资管理入口
   - 场地预约入口
   - 设备借用入口
   - 资源使用统计概览

2. **物资列表页面**
   - 物资分类展示
   - 物资状态标识（可用/借出/维修中）
   - 物资搜索和筛选
   - 新增物资入口（管理员）

3. **物资详情页面**
   - 物资基本信息
   - 使用记录
   - 借用/归还操作
   - 维护记录

4. **场地预约页面**
   - 可用场地列表
   - 日历式预约界面
   - 场地使用状态展示
   - 预约申请表单

5. **我的预约/借用页面**
   - 当前预约/借用列表
   - 历史预约/借用记录
   - 取消预约/续借功能

#### 9.2 关键交互

- **物资借用流程**：选择物资 → 填写借用信息（用途、时间等）→ 提交申请 → 管理员审批 → 借用成功
- **场地预约流程**：选择场地 → 查看可用时间 → 提交预约申请 → 管理员审批 → 预约成功
- **资源归还流程**：在"我的借用"中选择归还 → 确认归还状态 → 管理员验收 → 归还完成

### 10. 财务管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 收支记录 | 记录社团收入和支出 | 财务流水、分类统计 | 中 |
| 预算管理 | 制定和跟踪社团预算 | 预算比对、预警机制 | 中 |
| 报销申请 | 成员提交报销申请 | 表单审批、票据上传 | 中 |
| 财务报表 | 生成财务报表和分析 | 数据可视化、导出功能 | 低 |

**数据表关联**：
- club_finance_record（财务记录表）
- club_budget（预算表）
- club_reimbursement（报销申请表）

#### 10.1 页面规划

1. **财务管理首页**
   - 收支概览图表
   - 预算使用进度条
   - 待审批报销申请
   - 最近财务活动

2. **收支记录页面**
   - 收支流水列表
   - 分类筛选（活动、日常、赞助等）
   - 时间段选择
   - 新增记录入口（管理员）

3. **预算管理页面**
   - 当前预算概览
   - 各类别预算分配
   - 预算使用情况
   - 调整预算入口（管理员）

4. **报销申请页面**
   - 报销申请表单
   - 票据图片上传
   - 申请状态追踪
   - 历史申请记录

5. **财务报表页面**
   - 多维度统计图表
   - 财务健康评估
   - 报表导出功能
   - 财务比对分析

#### 10.2 关键交互

- **收支记录流程**：选择收支类型 → 填写金额和说明 → 上传相关凭证 → 提交记录 → 更新财务状态
- **报销申请流程**：填写报销信息 → 上传票据照片 → 提交申请 → 财务管理员审核 → 报销完成
- **预算管理流程**：设置总预算 → 分配各类别预算 → 系统自动跟踪使用情况 → 达到阈值时提醒

### 11. 日程管理模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 社团日历 | 社团活动、会议等日程展示 | 日历视图、事件管理 | 中 |
| 日程提醒 | 活动、会议等自动提醒 | 定时任务、消息推送 | 中 |
| 考勤管理 | 记录成员参与活动情况 | 签到功能、统计分析 | 中 |
| 冲突检测 | 检测日程时间冲突 | 时间比对算法、提前预警 | 低 |

**数据表关联**：
- club_calendar（社团日历表）
- club_event（事件表）
- club_attendance（考勤记录表）

#### 11.1 页面规划

1. **日历页面**
   - 月视图/周视图切换
   - 事件标记和颜色区分
   - 快速创建事件入口
   - 日程筛选功能

2. **事件详情页面**
   - 事件基本信息（时间、地点、内容）
   - 参与人员列表
   - 相关资源链接
   - 提醒设置

3. **考勤管理页面**
   - 活动签到二维码/签到码
   - 签到状态实时更新
   - 考勤统计报表
   - 成员参与度分析

4. **我的日程页面**
   - 即将到来的事件提醒
   - 个人日程列表
   - 日程分类视图
   - 自定义提醒设置

#### 11.2 关键交互

- **创建事件流程**：选择日期时间 → 填写事件信息 → 选择参与人员 → 设置提醒 → 创建完成
- **签到流程**：管理员生成签到码 → 成员扫码/输入签到码 → 系统记录签到状态 → 更新考勤记录
- **日程同步流程**：系统检测新事件 → 自动添加到成员日历 → 根据设置发送提醒 → 成员确认参与

### 12. 数据分析与可视化模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 社团数据概览 | 展示社团核心指标和趋势 | 数据聚合、实时统计 | 中 |
| 成员分析 | 成员构成、活跃度分析 | 多维度分析、数据挖掘 | 中 |
| 活动效果评估 | 分析活动参与度和反馈 | 数据收集、评分系统 | 中 |
| 招新数据分析 | 招新渠道、转化率分析 | 漏斗分析、对比图表 | 中 |
| 预测分析 | 预测未来趋势和模式 | 统计模型、机器学习 | 低 |

**数据表关联**：
- club_statistics（统计数据表）
- club_data_view（数据视图表）
- club_analytics_config（分析配置表）

#### 12.1 页面规划

1. **数据仪表盘**
   - 核心指标卡片（成员数、活动数等）
   - 趋势图表（成员增长、活动参与度等）
   - 快速筛选时间段
   - 数据维度选择

2. **成员分析页面**
   - 成员分布图（学院、年级、性别等）
   - 活跃度热力图
   - 成员留存率分析
   - 角色转换漏斗图

3. **活动分析页面**
   - 活动参与度比较
   - 活动类型偏好分析
   - 活动反馈评分统计
   - 时间段参与规律

4. **招新分析页面**
   - 申请来源分析
   - 筛选环节转化率
   - 招新效果同比环比
   - 招新预测模型

5. **自定义报表页面**
   - 灵活选择分析维度
   - 自定义图表类型
   - 报表导出和分享
   - 定期报告订阅

#### 12.2 关键交互

- **数据筛选流程**：选择时间范围 → 设置筛选条件 → 选择分析维度 → 生成分析报表
- **报表导出流程**：查看分析结果 → 选择导出格式（Excel/PDF/图片）→ 确认导出 → 下载文件
- **数据钻取流程**：查看概览数据 → 点击感兴趣指标 → 系统展示详细分析 → 继续深入探索

### 13. 安全与审计模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 操作日志 | 记录用户关键操作 | 日志收集、分类存储 | 高 |
| 敏感数据保护 | 加密存储敏感信息 | 数据加密、访问控制 | 高 |
| 权限审计 | 定期审查权限分配 | 权限映射、异常检测 | 中 |
| 安全预警 | 检测异常操作行为 | 行为分析、实时预警 | 中 |

**数据表关联**：
- club_operation_log（操作日志表）
- club_security_alert（安全预警表）
- club_permission_audit（权限审计表）

#### 13.1 页面规划

1. **操作日志页面**（仅管理员可见）
   - 日志列表（操作类型、操作人、时间等）
   - 日志筛选和搜索
   - 导出日志功能
   - 异常标记和处理

2. **权限管理页面**
   - 用户权限矩阵
   - 权限变更历史
   - 权限审计报告
   - 异常权限标记

3. **安全中心页面**
   - 系统安全状态概览
   - 最近安全事件
   - 安全设置入口
   - 安全建议提示

#### 13.2 关键交互

- **日志查询流程**：设置查询条件（时间、用户、操作类型）→ 生成日志列表 → 查看详情 → 导出/处理
- **权限审计流程**：系统定期检查权限配置 → 生成审计报告 → 管理员审核 → 调整异常权限
- **安全预警处理流程**：系统检测异常行为 → 生成安全预警 → 管理员确认 → 采取应对措施

### 14. 高级社交互动模块

| 子功能 | 功能描述 | 技术要点 | 优先级 |
| ----- | ------- | ------- | ----- |
| 社团圈子 | 类似朋友圈的社团动态分享 | UGC内容管理、互动机制 | 低 |
| 跨社团协作 | 多社团联合活动与资源共享 | 多实体关联、权限融合 | 低 |
| 校友网络 | 毕业成员联系网络 | 关系图谱、历史数据 | 低 |
| 投票表决 | 社团内部民主决策系统 | 安全投票、实时统计 | 中 |

**数据表关联**：
- club_moment（社团动态表）
- club_collaboration（社团协作表）
- club_alumni（校友信息表）
- club_vote（投票表）
- club_vote_record（投票记录表）

#### 14.1 页面规划

1. **社团圈子页面**
   - 动态流（图文、视频等）
   - 点赞、评论功能
   - 发布动态入口
   - 热门动态推荐

2. **跨社团协作页面**
   - 协作邀请管理
   - 联合活动计划
   - 资源共享申请
   - 协作历史记录

3. **校友网络页面**
   - 校友地图（地理分布）
   - 校友列表（分届展示）
   - 校友活动信息
   - 联系方式（对内可见）

4. **投票表决页面**
   - 当前进行中的投票
   - 投票创建入口（管理员）
   - 投票结果统计
   - 历史投票记录

#### 14.2 关键交互

- **发布动态流程**：选择动态类型 → 上传图片/视频 → 编写文字内容 → 设置可见范围 → 发布
- **协作邀请流程**：选择目标社团 → 填写协作内容 → 发送邀请 → 对方确认 → 建立协作关系
- **投票创建流程**：设置投票主题 → 添加选项 → 设置投票规则（单/多选、截止时间等）→ 发布投票
- **投票参与流程**：查看投票详情 → 选择选项 → 提交投票 → 查看实时结果

## 三、技术实现方案

### 前端（UniApp框架）

#### 1. 技术栈
- UniApp框架（支持多端编译）
- Vue.js
- uni-ui组件库
- Vuex状态管理
- uniCloud云开发（可选）

#### 2. 多端适配策略
- **主要端**：微信小程序
- **次要端**：H5、App（Android/iOS）
- **适配方案**：
  - 使用条件编译（#ifdef/#ifndef）处理平台差异
  - 抽象通用UI组件，平台特定功能单独封装
  - 响应式设计，适应不同屏幕尺寸

#### 3. 核心页面设计
- **首页**：社团列表、活动推荐、招新信息
- **社团详情页**：社团信息、招新状态、活动列表
- **个人中心**：我的社团、我的申请、消息通知
- **聊天页面**：会话列表、聊天界面
- **管理后台**：社团管理、成员管理、招新管理等

#### 4. 组件开发
- **自定义表单组件**：支持多种表单元素（文本、单选、多选、上传等）
- **图片上传组件**：上传社团logo、活动海报
- **消息通知组件**：未读消息提醒、消息列表
- **聊天组件**：消息气泡、输入框、表情选择器
- **日期选择器**：活动时间、面试时间选择
- **权限控制组件**：根据用户角色动态显示/隐藏功能

#### 5. UniApp技术优势
- **一次开发，多端发布**：同一套代码可编译到微信小程序、H5、App等多个平台
- **丰富的组件库**：内置组件和扩展组件库支持快速开发
- **原生性能**：通过条件编译可调用不同平台的原生能力
- **热更新支持**：App端支持热更新，提高迭代效率
- **社区生态**：丰富的插件和模板市场

#### 6. 高级功能优化

- **数据可视化组件**：集成ECharts等图表库，提供丰富的数据展示形式
- **离线支持**：使用本地存储和同步机制，保证弱网络环境下的可用性
- **实时协作**：基于WebSocket实现的实时数据同步和协作编辑
- **性能优化**：路由懒加载、组件按需加载、图片懒加载等性能优化策略
- **渐进式加载**：首屏快速加载，后续功能按需加载，提升用户体验

### 后端（Java Spring Boot）

#### 1. 技术栈
- Spring Boot 2.x
- MyBatis
- MySQL 8.0
- Redis
- JWT认证
- WebSocket

#### 2. 架构设计
- **控制层（Controller）**：处理HTTP请求，参数验证，返回结果
- **服务层（Service）**：业务逻辑处理，事务管理
- **数据访问层（DAO）**：数据库操作，复杂查询
- **实体层（Entity）**：数据库映射实体
- **DTO层**：数据传输对象，API接口参数和返回值
- **工具类**：通用功能，如加密、日期处理等

#### 3. 服务模块
- **用户服务**：认证、授权、信息管理
- **社团服务**：社团信息、成员管理
- **招新服务**：招新流程、申请处理
- **活动服务**：活动管理、报名处理
- **消息服务**：消息发送、阅读状态管理
- **聊天服务**：WebSocket消息处理、群组管理
- **文件服务**：图片上传、存储管理

#### 4. 安全设计
- 基于JWT的身份认证
- 基于角色的权限控制
- 接口参数验证
- SQL注入防护
- XSS防护
- WebSocket连接认证

#### 5. 性能与安全优化

- **数据缓存层**：使用Redis缓存热点数据，减少数据库访问
- **异步处理机制**：使用消息队列处理非实时任务，提高系统响应能力
- **数据安全防护**：敏感数据加密存储，完善的SQL注入防护
- **接口限流**：基于令牌桶算法的API访问限流，防止恶意请求
- **全文检索**：集成Elasticsearch实现全文搜索和高级检索功能

## 四、开发计划与优先级

### 第一阶段（基础功能）- 2周
1. 搭建UniApp项目框架
2. 实现用户注册登录
3. 社团基本信息管理
4. 社团成员管理
5. 系统管理员功能

### 第二阶段（核心业务）- 3周
1. 招新管理完整流程
2. 自定义表单功能
3. 申请审核流程
4. 社团管理员功能
5. 基础UI组件库开发

### 第三阶段（聊天功能）- 2周
1. WebSocket服务端实现
2. 聊天UI组件开发
3. 群聊和私聊功能
4. 消息存储与查询
5. 多媒体消息支持

### 第四阶段（功能扩展）- 2周
1. 活动管理
2. 通知公告系统
3. 消息推送功能
4. H5端适配

### 第五阶段（完善优化）- 2周
1. 退社管理
2. 部门精细化管理
3. 数据统计与分析
4. App端打包测试

### 第六阶段（测试上线）- 1周
1. 功能测试与bug修复
2. 性能优化
3. 上线部署

### 第七阶段（高级功能）- 3周
1. 实现资源管理功能
2. 实现财务管理模块
3. 增强数据分析与可视化
4. 完善安全与审计功能
5. 优化系统整体性能

### 第八阶段（拓展功能）- 2周
1. 日程管理与考勤功能
2. 高级社交互动功能
3. 跨社团协作机制
4. 投票表决系统

## 五、特色功能设计

### 1. 智能面试安排
- **功能描述**：根据申请者和面试官的时间自动安排最优面试时间
- **技术实现**：时间冲突检测算法、日程管理
- **应用场景**：大规模招新面试安排

### 2. 社团活跃度评分
- **功能描述**：基于活动频率、成员参与度等计算社团活跃度
- **技术实现**：多维度数据分析、评分算法
- **应用场景**：社团排名、资源分配参考

### 3. 招新数据分析
- **功能描述**：提供招新数据可视化，帮助社团优化招新策略
- **技术实现**：数据可视化、趋势分析
- **应用场景**：招新效果评估、策略调整

### 4. 电子社团证
- **功能描述**：为社团成员生成电子社团证，可用于活动签到
- **技术实现**：二维码生成、身份验证
- **应用场景**：活动签到、身份识别

### 5. 社团资源共享
- **功能描述**：社团间资源共享平台，促进校园社团合作
- **技术实现**：资源管理、权限控制
- **应用场景**：场地共享、设备借用、联合活动

## 六、数据安全与隐私保护

### 1. 数据安全措施
- 用户密码加密存储
- 敏感信息脱敏展示
- 数据库定期备份
- 操作日志记录

### 2. 隐私保护策略
- 用户信息获取明确授权
- 个人信息最小化收集
- 数据使用范围限制
- 用户数据删除机制

## 七、扩展性与可维护性设计

### 1. 扩展性设计
- 模块化架构，便于功能扩展
- 通用组件抽象，减少重复开发
- 配置化设计，减少硬编码
- API版本控制，兼容旧版本

### 2. 可维护性设计
- 统一的代码规范
- 完善的注释和文档
- 合理的日志记录
- 自动化测试用例

## 八、系统集成与对接

### 1. 微信生态集成
- 微信登录授权
- 微信支付（可选）
- 微信模板消息推送
- 微信分享功能

### 2. 校园系统对接
- 学生信息系统对接（可选）
- 场地预约系统对接（可选）
- 教务系统对接（可选）

## 九、未来规划

### 1. 功能规划
- 社团财务管理
- 社团评价系统
- 校际社团交流平台
- 社团活动直播功能

### 2. 技术规划
- 移动端APP开发
- 大数据分析能力
- AI辅助决策
- 云原生架构升级 