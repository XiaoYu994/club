# 社团活动管理系统 - 微信小程序

## 项目概述

本项目是一个基于uni-app框架开发的社团活动管理系统微信小程序，主要功能包括社团管理、活动发布、报名管理、签到管理等。系统面向高校学生和社团管理者，旨在提供便捷的社团活动管理和参与体验。

## 技术栈

- 前端框架：uni-app
- UI组件：uni-ui
- 请求库：uni.request
- 状态管理：Vuex
- 样式处理：SCSS

## 项目结构

```
club_uniapp/
├── components/                # 公共组件
│   ├── activity-form/         # 活动表单组件
│   ├── custom-nav-bar/        # 自定义导航栏组件
│   └── activityCard/          # 活动卡片组件
├── pages/                     # 页面
│   ├── activity/              # 活动相关页面
│   │   ├── activity.vue       # 活动列表页
│   │   ├── activityDeatil.vue # 活动详情页
│   │   ├── applies.vue        # 报名管理页
│   │   └── edit.vue           # 活动编辑页
│   ├── club/                  # 社团相关页面
│   │   ├── club.vue           # 社团列表页
│   │   └── clubDetail.vue     # 社团详情页
│   └── user/                  # 用户相关页面
├── static/                    # 静态资源
├── store/                     # Vuex状态管理
├── utils/                     # 工具函数
│   ├── activity.js            # 活动相关工具函数
│   ├── request.js             # 请求封装
│   └── common.js              # 通用工具函数
├── App.vue                    # 应用入口组件
├── main.js                    # 应用入口文件
├── manifest.json              # 应用配置文件
├── pages.json                 # 页面路由配置
└── uni.scss                   # 全局样式变量
```

## 核心功能

### 1. 活动管理

- 活动列表展示与筛选
- 活动详情查看
- 活动创建与编辑
- 活动报名管理
- 活动签到功能

### 2. 社团管理

- 社团列表展示与筛选
- 社团详情查看
- 社团成员管理
- 社团活动管理

### 3. 用户功能

- 用户登录注册
- 个人信息管理
- 活动报名与取消
- 活动签到
- 我的活动记录查看

## 优化与重构记录

### 1. 活动数据刷新机制优化 (最新)

- 创建了通用的 `getImageUrl` 函数处理图片URL，添加时间戳防止缓存
- 实现了统一的页面通信机制，使用 `notifyActivityDataChanged` 和 `listenActivityDataChanged` 函数
- 优化了活动列表、详情页和编辑页之间的数据同步，解决了编辑后海报不更新的问题
- 实现了基于时间间隔的智能刷新策略，避免频繁刷新数据

### 2. 活动报名表单优化

- 优化了表单字段解析逻辑，确保基础字段和自定义字段的正确显示
- 增加了表单验证功能，确保必填字段不为空
- 优化了多选框、单选框等不同类型输入控件的显示和数据处理

### 3. 用户信息自动填充

- 实现了用户登录后自动填充基本信息到报名表单
- 添加了用户信息完整性检查，引导用户完善个人信息

### 4. 活动报名管理页面优化

- 实现了报名列表的分类筛选功能
- 优化了报名审核流程，支持批量操作
- 增加了报名表单数据的详细展示

### 5. 代码结构优化

- 抽取了公共组件，如自定义导航栏、活动卡片等
- 将活动表单逻辑封装为独立组件，提高代码复用性
- 统一了API调用方式，使用Promise处理异步请求
- 规范了代码风格，确保符合微信小程序规范

### 6. UI/UX优化

- 统一了颜色方案和字体样式
- 优化了列表加载和刷新体验
- 改进了表单布局，提升用户填写体验
- 优化了按钮布局和交互反馈

## 数据库设计

### 活动表 (club_activity)

包含活动的基本信息，如标题、描述、时间、地点等。

### 报名表 (club_activity_apply)

存储用户报名信息，包括活动ID、用户ID、报名状态、表单数据等。

### 社团表 (club_info)

存储社团基本信息，如名称、描述、类型、状态等。

### 用户表 (user_info)

存储用户基本信息，如姓名、学号、手机号、学院、班级等。

## 后续优化方向

1. 增加活动数据统计分析功能
2. 优化移动端适配，提升不同设备的显示效果
3. 增加消息通知功能，及时提醒用户活动状态变化
4. 优化图片上传和展示功能，提升用户体验
5. 增加社团成员管理和权限控制功能

## 开发团队

- 产品经理：大二学生
- 开发工程师：Claude AI

## 使用说明

1. 克隆项目到本地
2. 安装依赖：`npm install`
3. 运行项目：`npm run dev:mp-weixin`
4. 使用微信开发者工具打开项目目录 