{"version":3,"file":"activity-form.js","sources":["components/activity-form/activity-form.vue","../../../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovQ09ERS9jYXBzdG9uZS1wcm9qZWN0L2NsdWItbWFzdGVyL2NsdWIvY2x1Yl91bmlhcHAvY29tcG9uZW50cy9hY3Rpdml0eS1mb3JtL2FjdGl2aXR5LWZvcm0udnVl"],"sourcesContent":["<!-- components/activity-form/activity-form.vue -->\n<template>\n  <view class=\"activity-form\">\n    <view class=\"form-container\">\n      <!-- 基本信息 -->\n      <view class=\"form-section\">\n        <view class=\"section-title\">基本信息</view>\n        \n        <!-- 活动标题 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">活动标题</text>\n          <input class=\"form-input\" v-model=\"formData.title\" placeholder=\"请输入活动标题\" />\n        </view>\n        \n        <!-- 活动地点 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">活动地点</text>\n          <input class=\"form-input\" v-model=\"formData.address\" placeholder=\"请输入活动地点\" />\n        </view>\n        \n        <!-- 开始时间 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">开始时间</text>\n          <view class=\"datetime-picker-row\">\n            <picker class=\"form-picker datetime-picker\" mode=\"date\" :value=\"formatDate(formData.startTime)\" @change=\"onStartDateChange\">\n              <view>{{ formatDate(formData.startTime) }}</view>\n            </picker>\n            <picker class=\"form-picker datetime-picker\" mode=\"time\" :value=\"formatTime(formData.startTime)\" @change=\"onStartTimeChange\">\n              <view>{{ formatTime(formData.startTime) }}</view>\n            </picker>\n          </view>\n        </view>\n        \n        <!-- 结束时间 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">结束时间</text>\n          <view class=\"datetime-picker-row\">\n            <picker class=\"form-picker datetime-picker\" mode=\"date\" :value=\"formatDate(formData.endTime)\" @change=\"onEndDateChange\">\n              <view>{{ formatDate(formData.endTime) }}</view>\n            </picker>\n            <picker class=\"form-picker datetime-picker\" mode=\"time\" :value=\"formatTime(formData.endTime)\" @change=\"onEndTimeChange\">\n              <view>{{ formatTime(formData.endTime) }}</view>\n            </picker>\n          </view>\n        </view>\n        \n        <!-- 活动海报 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">活动海报</text>\n          <view class=\"poster-upload\" @tap=\"uploadPoster\">\n            <image v-if=\"formData.poster\" class=\"poster-preview\" :src=\"getPosterPreviewUrl(formData.poster)\" mode=\"aspectFill\"></image>\n            <view v-else class=\"upload-placeholder\">\n              <uni-icons type=\"image\" size=\"50\" color=\"#999\"></uni-icons>\n              <text>点击上传海报</text>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 审核开关 -->\n<!--        <view class=\"form-item\">\n          <view class=\"switch-container\">\n            <text class=\"form-label\">需要审核</text>\n            <switch :checked=\"formData.needApproval\" @change=\"e => formData.needApproval = e.detail.value\" color=\"#b13b7a\" />\n          </view>\n        </view> -->\n      </view>\n      \n      <!-- 活动详情 -->\n      <view class=\"form-section\">\n        <view class=\"section-title\">活动详情</view>\n        <view class=\"form-item\">\n          <textarea class=\"form-textarea\" v-model=\"formData.description\" placeholder=\"请输入活动详情描述\" />\n        </view>\n      </view>\n      \n      <!-- 报名表单设置 -->\n      <view class=\"form-section\">\n        <view class=\"section-title\">报名表单设置</view>\n        \n        <!-- 表单字段列表 -->\n        <view class=\"form-fields\">\n          <view class=\"form-field-item\" v-for=\"(field, fieldIndex) in formData.forms\" :key=\"fieldIndex\">\n            <!-- 字段头部 -->\n            <view class=\"field-header\">\n              <input class=\"field-name\" v-model=\"field.name\" placeholder=\"字段名称\" />\n              <view class=\"field-actions\">\n                <view class=\"required-switch\">\n                  <text>必填</text>\n                  <switch :checked=\"field.required\" @change=\"e => updateFieldRequired(fieldIndex, e.detail.value)\" color=\"#b13b7a\" />\n                </view>\n                <view class=\"delete-btn\" @tap=\"deleteField(fieldIndex)\">\n                  <uni-icons type=\"trash\" size=\"20\" color=\"#999\"></uni-icons>\n                </view>\n              </view>\n            </view>\n            \n            <!-- 字段内容 -->\n            <view class=\"field-content\">\n              <view class=\"field-type\">\n                <text>字段类型</text>\n                <picker class=\"type-picker\" :value=\"getFieldTypeIndex(field.type)\" :range=\"fieldTypes\" @change=\"e => updateFieldType(fieldIndex, e.detail.value)\">\n                  <view>{{ getFieldTypeName(field.type) }}</view>\n                </picker>\n              </view>\n              \n              <!-- 选项设置 -->\n              <view class=\"field-options\" v-if=\"field.type === 'radio' || field.type === 'checkbox'\">\n                <text class=\"options-label\">选项设置</text>\n                <view class=\"option-item\" v-for=\"(option, optionIndex) in field.options\" :key=\"optionIndex\">\n                  <input class=\"option-input\" v-model=\"field.options[optionIndex]\" placeholder=\"选项内容\" />\n                  <view class=\"delete-option\" @tap=\"deleteOption(fieldIndex, optionIndex)\">\n                    <uni-icons type=\"close\" size=\"16\" color=\"#999\"></uni-icons>\n                  </view>\n                </view>\n                <view class=\"add-option\" @tap=\"addOption(fieldIndex)\">\n                  <uni-icons type=\"plusempty\" size=\"20\" color=\"#b13b7a\"></uni-icons>\n                  <text>添加选项</text>\n                </view>\n              </view>\n            </view>\n          </view>\n          \n          <!-- 添加字段按钮 -->\n          <view class=\"add-field\" @tap=\"addField\">\n            <uni-icons type=\"plusempty\" size=\"24\" color=\"#b13b7a\"></uni-icons>\n            <text>添加字段</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 底部操作栏 -->\n    <view class=\"form-actions\">\n      <button class=\"cancel-btn\" @tap=\"onCancel\">取消</button>\n      <button class=\"submit-btn\" @tap=\"onSubmit\">保存</button>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, reactive, computed, onMounted, watch, getCurrentInstance } from 'vue';\nimport { getImageUrl } from '@/utils/common.js';\n\n// 获取组件实例\nconst { proxy } = getCurrentInstance();\n\n// 接收父组件传递的属性\nconst props = defineProps({\n  // 活动数据，用于编辑模式\n  activityData: {\n    type: Object,\n    default: () => ({})\n  },\n  // 是否为编辑模式\n  isEdit: {\n    type: Boolean,\n    default: false\n  },\n  // 社团ID\n  clubId: {\n    type: [Number, String],\n    default: ''\n  }\n});\n\n// 向父组件发送事件\nconst emit = defineEmits(['cancel', 'submit']);\n\n// 表单数据\nconst formData = reactive({\n  title: '',\n  address: '',\n  startTime: Date.now(),\n  endTime: Date.now() + 7200000, // 默认2小时后结束\n  poster: '',\n  description: '',\n  needApproval: true,\n  forms: []\n});\n\n// 字段类型选项\nconst fieldTypes = [\n  '文本输入',\n  '数字输入',\n  '多行文本',\n  '单选',\n  '多选',\n  '日期选择'\n];\n\n// 字段类型映射\nconst fieldTypeMap = {\n  'text': 0,\n  'number': 1,\n  'textarea': 2,\n  'radio': 3,\n  'checkbox': 4,\n  'date': 5\n};\n\n// 反向映射\nconst reverseFieldTypeMap = {\n  0: 'text',\n  1: 'number',\n  2: 'textarea',\n  3: 'radio',\n  4: 'checkbox',\n  5: 'date'\n};\n\n// 初始化\nonMounted(() => {\n  // 如果是编辑模式，加载活动数据\n  if (props.isEdit && props.activityData) {\n    initFormData();\n  } else {\n    // 新建模式，添加默认的表单字段\n    addDefaultFields();\n  }\n});\n\n// 监听props变化\nwatch(() => props.activityData, (newVal) => {\n  if (newVal && props.isEdit) {\n    initFormData();\n  }\n}, { deep: true });\n\n// 初始化表单数据\nconst initFormData = () => {\n  const data = props.activityData;\n  \n  // 复制基本信息\n  formData.title = data.title || '';\n  formData.address = data.address || '';\n  formData.startTime = Number(data.startTime) || Date.now();\n  formData.endTime = Number(data.endTime) || (Date.now() + 7200000);\n  formData.poster = data.poster || '';\n  formData.description = data.description || '';\n  formData.needApproval = data.needApproval !== undefined ? data.needApproval : true;\n  \n  // 解析表单字段\n  try {\n    if (data.forms) {\n      let forms;\n      if (typeof data.forms === 'string') {\n        forms = JSON.parse(data.forms);\n      } else if (Array.isArray(data.forms)) {\n        forms = data.forms;\n      } else {\n        forms = [data.forms];\n      }\n      \n      formData.forms = forms.map(field => ({\n        name: field.name || '未命名字段',\n        type: field.type || 'text',\n        required: field.required || false,\n        options: field.options || []\n      }));\n    } else {\n      addDefaultFields();\n    }\n  } catch (e) {\n    console.error('解析表单字段失败:', e);\n    addDefaultFields();\n  }\n};\n\n// 添加默认字段\nconst addDefaultFields = () => {\n  formData.forms = [\n    {\n      name: '参加原因',\n      type: 'textarea',\n      required: false,\n      options: []\n    }\n  ];\n};\n\n// 格式化日期\nconst formatDate = (timestamp) => {\n  if (!timestamp) return '';\n  const date = new Date(Number(timestamp));\n  const year = date.getFullYear();\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const day = date.getDate().toString().padStart(2, '0');\n  return `${year}-${month}-${day}`;\n};\n\n// 格式化时间\nconst formatTime = (timestamp) => {\n  if (!timestamp) return '';\n  const date = new Date(Number(timestamp));\n  const hours = date.getHours().toString().padStart(2, '0');\n  const minutes = date.getMinutes().toString().padStart(2, '0');\n  return `${hours}:${minutes}`;\n};\n\n// 开始日期变更\nconst onStartDateChange = (e) => {\n  const dateStr = e.detail.value;\n  const [year, month, day] = dateStr.split('-').map(Number);\n  \n  const currentDate = new Date(Number(formData.startTime));\n  const hours = currentDate.getHours();\n  const minutes = currentDate.getMinutes();\n  \n  const newDate = new Date(year, month - 1, day, hours, minutes);\n  formData.startTime = newDate.getTime();\n  \n  // 如果开始时间大于结束时间，调整结束时间\n  if (formData.startTime > formData.endTime) {\n    formData.endTime = formData.startTime + 7200000; // 默认2小时后结束\n  }\n};\n\n// 开始时间变更\nconst onStartTimeChange = (e) => {\n  const timeStr = e.detail.value;\n  const [hours, minutes] = timeStr.split(':').map(Number);\n  \n  const currentDate = new Date(Number(formData.startTime));\n  const year = currentDate.getFullYear();\n  const month = currentDate.getMonth();\n  const day = currentDate.getDate();\n  \n  const newDate = new Date(year, month, day, hours, minutes);\n  formData.startTime = newDate.getTime();\n  \n  // 如果开始时间大于结束时间，调整结束时间\n  if (formData.startTime > formData.endTime) {\n    formData.endTime = formData.startTime + 7200000; // 默认2小时后结束\n  }\n};\n\n// 结束日期变更\nconst onEndDateChange = (e) => {\n  const dateStr = e.detail.value;\n  const [year, month, day] = dateStr.split('-').map(Number);\n  \n  const currentDate = new Date(Number(formData.endTime));\n  const hours = currentDate.getHours();\n  const minutes = currentDate.getMinutes();\n  \n  const newDate = new Date(year, month - 1, day, hours, minutes);\n  formData.endTime = newDate.getTime();\n  \n  // 如果结束时间小于开始时间，调整开始时间\n  if (formData.endTime < formData.startTime) {\n    formData.startTime = formData.endTime - 7200000; // 默认提前2小时开始\n  }\n};\n\n// 结束时间变更\nconst onEndTimeChange = (e) => {\n  const timeStr = e.detail.value;\n  const [hours, minutes] = timeStr.split(':').map(Number);\n  \n  const currentDate = new Date(Number(formData.endTime));\n  const year = currentDate.getFullYear();\n  const month = currentDate.getMonth();\n  const day = currentDate.getDate();\n  \n  const newDate = new Date(year, month, day, hours, minutes);\n  formData.endTime = newDate.getTime();\n  \n  // 如果结束时间小于开始时间，调整开始时间\n  if (formData.endTime < formData.startTime) {\n    formData.startTime = formData.endTime - 7200000; // 默认提前2小时开始\n  }\n};\n\n// 上传海报\nconst uploadPoster = () => {\n  uni.chooseImage({\n    count: 1,\n    sizeType: ['compressed'],\n    sourceType: ['album', 'camera'],\n    success: (res) => {\n      const tempFilePath = res.tempFilePaths[0];\n      \n      // 显示上传中\n      uni.showLoading({\n        title: '上传中...'\n      });\n      \n      // 使用已有的upload方法上传图片\n      proxy.$api.common.upload(tempFilePath).then(res => {\n        if (res.code === 200 || res.code === 0) {\n          // 成功上传，更新海报URL\n          const imageUrl = res.data?.url || res.data;\n          \n          // 使用通用函数处理图片URL\n          formData.poster = getImageUrl(imageUrl);\n            \n          // 强制刷新图片\n          setTimeout(() => {\n            // 触发视图更新\n            formData.poster = formData.poster;\n          }, 100);\n          \n          uni.showToast({\n            title: '上传成功',\n            icon: 'success'\n          });\n        } else {\n          // 服务器返回错误\n          uni.showToast({\n            title: res.message || res.msg || '上传失败',\n            icon: 'none'\n          });\n          console.error('上传失败:', res);\n        }\n      }).catch(err => {\n        // 请求失败\n        uni.showToast({\n          title: '网络异常，请稍后重试',\n          icon: 'none'\n        });\n        console.error('上传请求失败:', err);\n      }).finally(() => {\n        uni.hideLoading();\n      });\n    }\n  });\n};\n\n// 获取海报预览URL\nconst getPosterPreviewUrl = (url) => {\n  // 不添加时间戳，避免重复请求上传接口\n  return getImageUrl(url, '/static/images/default-poster.png', false);\n};\n\n// 获取字段类型索引\nconst getFieldTypeIndex = (type) => {\n  return fieldTypeMap[type] || 0;\n};\n\n// 获取字段类型名称\nconst getFieldTypeName = (type) => {\n  const index = fieldTypeMap[type] || 0;\n  return fieldTypes[index];\n};\n\n// 更新字段类型\nconst updateFieldType = (fieldIndex, typeIndex) => {\n  const newType = reverseFieldTypeMap[typeIndex];\n  formData.forms[fieldIndex].type = newType;\n  \n  // 如果切换到选择类型，但没有选项，添加默认选项\n  if ((newType === 'radio' || newType === 'select' || newType === 'checkbox') && \n      (!formData.forms[fieldIndex].options || formData.forms[fieldIndex].options.length === 0)) {\n    formData.forms[fieldIndex].options = ['选项1', '选项2'];\n  }\n};\n\n// 更新字段必填状态\nconst updateFieldRequired = (fieldIndex, required) => {\n  formData.forms[fieldIndex].required = required;\n};\n\n// 删除字段\nconst deleteField = (fieldIndex) => {\n  uni.showModal({\n    title: '删除字段',\n    content: '确定要删除此表单字段吗？',\n    success: (res) => {\n      if (res.confirm) {\n        formData.forms.splice(fieldIndex, 1);\n      }\n    }\n  });\n};\n\n// 添加字段\nconst addField = () => {\n  formData.forms.push({\n    name: '新字段',\n    type: 'text',\n    required: false,\n    options: []\n  });\n};\n\n// 添加选项\nconst addOption = (fieldIndex) => {\n  if (!formData.forms[fieldIndex].options) {\n    formData.forms[fieldIndex].options = [];\n  }\n  formData.forms[fieldIndex].options.push(`选项${formData.forms[fieldIndex].options.length + 1}`);\n};\n\n// 删除选项\nconst deleteOption = (fieldIndex, optionIndex) => {\n  if (formData.forms[fieldIndex].options.length <= 2) {\n    uni.showToast({\n      title: '至少保留两个选项',\n      icon: 'none'\n    });\n    return;\n  }\n  formData.forms[fieldIndex].options.splice(optionIndex, 1);\n};\n\n// 取消\nconst onCancel = () => {\n  emit('cancel');\n};\n\n// 提交\nconst onSubmit = () => {\n  // 表单验证\n  if (!formData.title) {\n    uni.showToast({\n      title: '请输入活动标题',\n      icon: 'none'\n    });\n    return;\n  }\n  \n  if (!formData.address) {\n    uni.showToast({\n      title: '请输入活动地点',\n      icon: 'none'\n    });\n    return;\n  }\n  \n  if (!formData.description) {\n    uni.showToast({\n      title: '请输入活动详情',\n      icon: 'none'\n    });\n    return;\n  }\n  \n  // 验证表单字段\n  for (const field of formData.forms) {\n    if (!field.name) {\n      uni.showToast({\n        title: '表单字段名称不能为空',\n        icon: 'none'\n      });\n      return;\n    }\n    \n    // 验证选择类型的字段必须有选项\n    if ((field.type === 'radio' || field.type === 'select' || field.type === 'checkbox') && \n        (!field.options || field.options.length < 2)) {\n      uni.showToast({\n        title: `${field.name}至少需要两个选项`,\n        icon: 'none'\n      });\n      return;\n    }\n  }\n  \n  // 显示加载中\n  uni.showLoading({\n    title: '保存中...'\n  });\n  \n  // 构建提交数据\n  const submitData = {\n    title: formData.title,\n    address: formData.address,\n    startTime: formData.startTime,\n    endTime: formData.endTime,\n    poster: formData.poster,\n    description: formData.description,\n    needApproval: formData.needApproval,\n    forms: JSON.stringify(formData.forms),\n    clubId: props.clubId\n  };\n  \n  // 如果是编辑模式，添加ID\n  if (props.isEdit && props.activityData.id) {\n    submitData.id = props.activityData.id;\n  }\n  \n  // 发送提交事件\n  emit('submit', submitData);\n  \n  // 隐藏加载中\n  setTimeout(() => {\n    uni.hideLoading();\n  }, 500);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.activity-form {\n  padding-bottom: 120rpx;\n  \n  .form-container {\n    padding: 20rpx;\n  }\n  \n  .form-section {\n    background: #fff;\n    border-radius: 16rpx;\n    padding: 30rpx;\n    margin-bottom: 30rpx;\n    box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.05);\n    \n    .section-title {\n      font-size: 32rpx;\n      font-weight: 600;\n      color: #333;\n      margin-bottom: 30rpx;\n      padding-bottom: 20rpx;\n      border-bottom: 1rpx solid #f0f0f0;\n    }\n  }\n  \n  .form-item {\n    margin-bottom: 30rpx;\n    \n    &:last-child {\n      margin-bottom: 0;\n    }\n    \n    .form-label {\n      display: block;\n      font-size: 28rpx;\n      color: #333;\n      margin-bottom: 16rpx;\n    }\n    \n    .form-input, .form-textarea {\n      width: 100%;\n      background: #f8f8f8;\n      border-radius: 8rpx;\n      font-size: 28rpx;\n      box-sizing: border-box;\n    }\n    \n    .form-input {\n      height: 80rpx;\n      padding: 0 20rpx;\n    }\n    \n    .form-textarea {\n      height: 200rpx;\n      padding: 20rpx;\n    }\n    \n    .datetime-picker-row {\n      display: flex;\n      align-items: center;\n    }\n    \n    .form-picker {\n      width: 100%;\n      height: 80rpx;\n      line-height: 80rpx;\n      padding: 0 20rpx;\n      background: #f8f8f8;\n      border-radius: 8rpx;\n      font-size: 28rpx;\n      box-sizing: border-box;\n      \n      &.datetime-picker {\n        width: 48%;\n        margin-right: 4%;\n        \n        &:last-child {\n          margin-right: 0;\n        }\n      }\n    }\n    \n    .poster-upload {\n      width: 100%;\n      height: 360rpx;\n      background: #f8f8f8;\n      border-radius: 8rpx;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n      \n      .poster-preview {\n        width: 100%;\n        height: 100%;\n      }\n      \n      .upload-placeholder {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        \n        text {\n          font-size: 28rpx;\n          color: #999;\n          margin-top: 20rpx;\n        }\n      }\n    }\n  }\n  \n  .form-fields {\n    margin-top: 30rpx;\n    \n    .form-field-item {\n      background: #f8f8f8;\n      border-radius: 8rpx;\n      padding: 20rpx;\n      margin-bottom: 20rpx;\n      \n      .field-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 20rpx;\n        \n        .field-name {\n          font-size: 28rpx;\n          font-weight: 500;\n          color: #333;\n        }\n        \n        .field-actions {\n          display: flex;\n          align-items: center;\n          \n          .required-switch {\n            display: flex;\n            align-items: center;\n            margin-right: 20rpx;\n            \n            text {\n              font-size: 24rpx;\n              color: #666;\n              margin-right: 10rpx;\n            }\n          }\n          \n          .delete-btn {\n            padding: 10rpx;\n          }\n        }\n      }\n      \n      .field-content {\n        .field-type {\n          display: flex;\n          align-items: center;\n          margin-bottom: 20rpx;\n          \n          text {\n            font-size: 26rpx;\n            color: #666;\n          }\n          \n          .type-picker {\n            flex: 1;\n            height: 60rpx;\n            line-height: 60rpx;\n            padding: 0 20rpx;\n            background: #fff;\n            border-radius: 8rpx;\n            font-size: 26rpx;\n            margin-left: 10rpx;\n          }\n        }\n        \n        .field-options {\n          margin-top: 20rpx;\n          \n          .options-label {\n            font-size: 26rpx;\n            color: #666;\n            display: block;\n            margin-bottom: 10rpx;\n          }\n          \n          .option-item {\n            display: flex;\n            align-items: center;\n            margin-bottom: 10rpx;\n            \n            .option-input {\n              flex: 1;\n              height: 60rpx;\n              padding: 0 20rpx;\n              background: #fff;\n              border-radius: 8rpx;\n              font-size: 26rpx;\n            }\n            \n            .delete-option {\n              padding: 10rpx;\n              margin-left: 10rpx;\n            }\n          }\n          \n          .add-option {\n            display: flex;\n            align-items: center;\n            padding: 10rpx 0;\n            \n            text {\n              font-size: 26rpx;\n              color: #b13b7a;\n              margin-left: 10rpx;\n            }\n          }\n        }\n      }\n    }\n    \n    .add-field {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 20rpx 0;\n      \n      text {\n        font-size: 28rpx;\n        color: #b13b7a;\n        margin-left: 10rpx;\n      }\n    }\n  }\n  \n  .form-actions {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    padding: 20rpx 30rpx;\n    box-sizing: border-box;\n    background: #fff;\n    box-shadow: 0 -2rpx 10rpx rgba(0,0,0,0.05);\n    display: flex;\n    z-index: 999;\n    \n    button {\n      flex: 1;\n      height: 80rpx;\n      line-height: 80rpx;\n      text-align: center;\n      border-radius: 40rpx;\n      margin: 0 10rpx;\n      font-size: 28rpx;\n      border: 1rpx solid transparent;\n      z-index: 1000;\n    }\n    \n    .cancel-btn {\n      background-color: #f5f5f5 !important;\n      color: #666 !important;\n      border: 1rpx solid #ddd !important;\n    }\n    \n    .submit-btn {\n      background-color: #b13b7a !important;\n      color: #fff !important;\n      border: 1rpx solid #b13b7a !important;\n    }\n  }\n}\n</style>\n","import Component from 'D:/CODE/capstone-project/club-master/club/club_uniapp/components/activity-form/activity-form.vue'\nwx.createComponent(Component)"],"names":["getCurrentInstance","reactive","onMounted","watch","uni","res","getImageUrl"],"mappings":"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"}