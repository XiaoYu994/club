{"version":3,"file":"applies.js","sources":["pages/activity/applies.vue","../../../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWN0aXZpdHkvYXBwbGllcy52dWU"],"sourcesContent":["<!-- pages/activity/applies.vue -->\n<template>\n  <view \n    class=\"applies-container pageBg\"\n  >\n    <!-- 顶部导航 -->\n\t<!-- #ifndef MP-TOUTIAO -->\n\t<custom-nav-bar title=\"报名管理\" :showBack=\"true\" @backClick=\"goBack\"></custom-nav-bar>\n\t<!-- #endif -->\n    \n    <!-- 操作按钮区域 -->\n    <view v-if=\"isAdmin\" class=\"action-buttons\">\n      <button class=\"scan-btn\" @tap=\"scanCheckIn\">\n        <uni-icons type=\"scan\" size=\"16\" color=\"#fff\"></uni-icons>\n        <text>扫码签到</text>\n      </button>\n      <button class=\"export-btn\" @tap=\"exportApplyList\">\n        <uni-icons type=\"download\" size=\"16\" color=\"#fff\"></uni-icons>\n        <text>导出报名表</text>\n      </button>\n    </view>\n    \n    <!-- 活动信息 -->\n    <view class=\"activity-info\">\n      <view class=\"activity-title-wrap\">\n        <text class=\"activity-title\">{{ activityInfo.title || '活动详情' }}</text>\n      </view>\n      <view class=\"activity-meta\">\n        <text class=\"meta-item\">报名人数: {{ totalApply || 0 }}</text>\n        <text class=\"meta-item\">状态: {{ getStatusText(activityInfo) }}</text>\n      </view>\n    </view>\n    \n    <!-- 筛选选项 -->\n    <view class=\"filter-tabs\">\n      <view \n        v-for=\"(tab, index) in filterTabs\" \n        :key=\"index\"\n        :class=\"['filter-tab', { active: currentTab === index }]\"\n        @tap=\"switchTab(index)\"\n      >\n        <text class=\"tab-name\">{{ tab.name }}</text>\n        <view class=\"tab-indicator\" v-if=\"currentTab === index\"></view>\n      </view>\n    </view>\n    \n    <!-- 报名列表 -->\n    <scroll-view \n      scroll-y \n      class=\"apply-list\"\n      @scrolltolower=\"loadMore\"\n      refresher-enabled\n      :refresher-triggered=\"refreshing\"\n      @refresherrefresh=\"onRefresh\"\n    >\n      <view v-if=\"loading\" class=\"loading-box\">\n        <uni-load-more status=\"loading\"></uni-load-more>\n      </view>\n      \n      <view v-else-if=\"filteredApplyList.length === 0\" class=\"empty-box\">\n        <image src=\"/static/images/empty.png\" mode=\"aspectFit\" class=\"empty-image\"></image>\n        <text class=\"empty-text\">暂无报名记录</text>\n      </view>\n      \n      <view v-else class=\"apply-items\">\n        <view \n          v-for=\"(item, index) in filteredApplyList\" \n          :key=\"index\"\n          class=\"apply-item\"\n        >\n          <view class=\"user-info\">\n            <image class=\"avatar\" :src=\"item.user.avatar || '/static/images/avatar-default.png'\" mode=\"aspectFill\"></image>\n            <view class=\"user-detail\">\n              <text class=\"user-name\">{{ item.user.username || '未知用户' }}</text>\n              <view class=\"user-extra\">\n                <text class=\"user-id\">学号: {{ item.user.studentId || '未知' }}</text>\n                <text class=\"user-class\">班级: {{ item.user.className || '未知' }}</text>\n              </view>\n            </view>\n            <view :class=\"['apply-status', getApplyStatusClass(item.status)]\">\n              {{ getApplyStatusText(item.status) }}\n            </view>\n          </view>\n          \n          <!-- 表单信息 -->\n          <view class=\"form-info\" v-if=\"Object.keys(safeParseFormData(item.forms)).length > 0\">\n            <view \n              v-for=\"(value, key) in safeParseFormData(item.forms)\" \n              :key=\"key\"\n              class=\"form-item\"\n            >\n              <text class=\"form-label\">{{ getFieldDisplayName(key) }}:</text>\n              <text class=\"form-value\">{{ value }}</text>\n            </view>\n          </view>\n          \n          <!-- 签到状态 -->\n          <view class=\"checkin-status\" v-if=\"item.status === 1\">\n            <text :class=\"['status-text', item.checkInStatus === 1 ? 'checked' : '']\">\n              {{ item.checkInStatus === 1 ? '已签到' : '未签到' }}\n            </text>\n            <text class=\"checkin-time\" v-if=\"item.checkInStatus === 1\">\n              签到时间: {{ formatDate(item.checkInTime, 'MM-dd hh:mm') }}\n            </text>\n          </view>\n          \n          <!-- 操作按钮 -->\n          <view v-if=\"isAdmin && item.status === 0\" class=\"apply-actions\">\n            <button class=\"action-btn reject-btn\" @tap=\"rejectApply(item.id)\">拒绝</button>\n            <button class=\"action-btn approve-btn\" @tap=\"approveApply(item.id)\">通过</button>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 加载更多 -->\n      <uni-load-more v-if=\"filteredApplyList.length > 0\" :status=\"loadMoreStatus\"></uni-load-more>\n      \n      <!-- 底部占位，防止内容被扫码按钮遮挡 -->\n      <view class=\"bottom-space\"></view>\n    </scroll-view>\n    \n    <!-- 拒绝原因弹窗 -->\n    <uni-popup ref=\"rejectPopup\" type=\"center\">\n      <view class=\"custom-popup\">\n        <view class=\"popup-title\">拒绝原因</view>\n        <view class=\"popup-content\">\n          <textarea\n            class=\"reject-textarea\"\n            v-model=\"rejectReason\"\n            placeholder=\"请输入拒绝原因（选填）\"\n            maxlength=\"50\"\n            auto-height\n          />\n          <view class=\"count-container\">\n            <text class=\"count-text\">{{rejectReason.length}}/50</text>\n          </view>\n        </view>\n        <view class=\"popup-buttons\">\n          <view class=\"popup-button cancel\" @tap=\"cancelReject\">取消</view>\n          <view class=\"popup-button confirm\" @tap=\"confirmReject\">确认</view>\n        </view>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, getCurrentInstance } from 'vue';\nimport { \n  getStatusText, \n  getApplyStatusText, \n  getApplyStatusClass,\n  getFieldDisplayName,\n  parseFormData\n} from '@/utils/activity.js';\nimport { formatDate } from '@/utils/common.js';\n\n// 获取组件实例\nconst { proxy } = getCurrentInstance();\n// 是否为社团管理员且未被禁用\nconst isAdmin = ref(false);\n\n// 状态栏高度\nconst statusBarHeight = ref(20);\n// 活动ID\nconst id = ref('');\n// 活动信息\nconst activityInfo = ref({});\n// 报名列表\nconst applyList = ref([]);\n// 总报名人数\nconst totalApply = ref(0);\n// 加载状态\nconst loading = ref(true);\nconst refreshing = ref(false);\nconst loadMoreStatus = ref('more');\n// 分页参数\nconst page = ref(1);\nconst pageSize = ref(10);\nconst hasMore = ref(true);\n// 筛选选项\nconst filterTabs = [\n  { name: '全部', status: null },\n  { name: '待审核', status: 0 },\n  { name: '已通过', status: 1 },\n  { name: '已拒绝', status: 2 }\n];\nconst currentTab = ref(0);\n\n// 拒绝报名相关变量\nconst rejectPopup = ref(null);\nconst rejectReason = ref('');\nconst currentRejectId = ref(null);\n\n// 筛选后的报名列表\nconst filteredApplyList = computed(() => {\n  const status = filterTabs[currentTab.value].status;\n  \n  if (status === null) {\n    return applyList.value;\n  }\n  \n  return applyList.value.filter(item => item.status === status);\n});\n\n// 初始化\nonMounted(() => {\n  // 获取状态栏高度\n  statusBarHeight.value = uni.getSystemInfoSync().statusBarHeight || 20;\n  \n  // 获取活动ID\n  const pages = getCurrentPages();\n  const currentPage = pages[pages.length - 1];\n  id.value = currentPage.options.id;\n  \n  // 加载活动信息和报名列表\n  loadActivityInfo();\n  loadApplyList();\n});\n\n// 检查用户角色和状态\nconst checkUserRole = async (clubId) => {\n  try {\n    const res = await proxy.$api.club.getUserRole(clubId);\n    if (res.code === 200 && res.data) {\n      isAdmin.value = res.data.type > 0 && res.data.status === 1;\n    }\n  } catch (e) {\n    isAdmin.value = false;\n  }\n};\n\n// 加载活动信息\nconst loadActivityInfo = () => {\n  uni.showLoading({ title: '加载中...' });\n  \n  proxy.$api.activity.getActivityDetail(id.value)\n    .then(res => {\n      if (res.code === 200) {\n        activityInfo.value = res.data;\n        // 加载完活动详情后检查用户角色\n        if (activityInfo.value.clubId) {\n          checkUserRole(activityInfo.value.clubId);\n        }\n        // 获取活动总报名人数\n        if (res.data.applyCount !== undefined) {\n          totalApply.value = res.data.applyCount;\n        } else {\n          // 如果API没有返回报名总数，则请求报名列表总数\n          proxy.$api.activity.getApplyList(id.value, { page: 1, pageSize: 1 })\n            .then(applyRes => {\n              if (applyRes.code === 200 && applyRes.data.total !== undefined) {\n                totalApply.value = applyRes.data.total;\n              }\n            });\n        }\n      } else {\n        uni.showToast({\n          title: res.message || '加载活动信息失败',\n          icon: 'none'\n        });\n      }\n    })\n    .catch(error => {\n      uni.showToast({\n        title: '网络异常，请稍后重试',\n        icon: 'none'\n      });\n    })\n    .finally(() => {\n      uni.hideLoading();\n    });\n};\n\n// 加载报名列表\nconst loadApplyList = (reset = true) => {\n  if (reset) {\n    page.value = 1;\n    hasMore.value = true;\n  }\n  \n  if (!hasMore.value && !reset) return;\n  \n  loading.value = true;\n  \n  // 构建查询参数\n  const params = {\n    page: page.value,\n    pageSize: pageSize.value\n  };\n  \n  // 如果有状态筛选，添加状态参数\n  const status = filterTabs[currentTab.value].status;\n  if (status !== null) {\n    params.status = status;\n  }\n  \n  proxy.$api.activity.getApplyList(id.value, params)\n    .then(res => {\n      if (res.code === 200) {\n        if (reset) {\n          applyList.value = res.data.list || [];\n        } else {\n          applyList.value = [...applyList.value, ...(res.data.list || [])];\n        }\n        \n        hasMore.value = res.data.hasMore || false;\n        loadMoreStatus.value = hasMore.value ? 'more' : 'noMore';\n        \n        // 更新页码\n        if (hasMore.value) {\n          page.value++;\n        }\n      } else {\n        uni.showToast({\n          title: res.message || '加载报名列表失败',\n          icon: 'none'\n        });\n      }\n    })\n    .catch(error => {\n      uni.showToast({\n        title: '网络异常，请稍后重试',\n        icon: 'none'\n      });\n    })\n    .finally(() => {\n      loading.value = false;\n      refreshing.value = false;\n    });\n};\n\n// 切换标签\nconst switchTab = (index) => {\n  if (currentTab.value === index) return;\n  \n  currentTab.value = index;\n  loadApplyList(true);\n};\n\n// 下拉刷新\nconst onRefresh = () => {\n  refreshing.value = true;\n  loadApplyList(true);\n};\n\n// 加载更多\nconst loadMore = () => {\n  if (!hasMore.value) return;\n  loadApplyList(false);\n};\n\n// 审核通过报名\nconst approveApply = (applyId) => {\n  uni.showModal({\n    title: '审核确认',\n    content: '确定通过此报名申请吗？',\n    success: (res) => {\n      if (res.confirm) {\n        // 显示加载中\n        uni.showLoading({ title: '处理中...' });\n        \n        // 调用API审核报名\n        proxy.$api.activity.reviewApply(applyId, {\n          status: 1,  // 1表示通过\n          feedback: '管理员已通过申请'\n        })\n        .then(res => {\n          if (res.code === 200) {\n            uni.showToast({\n              title: '已通过',\n              icon: 'success'\n            });\n            \n            // 更新本地数据\n            const index = applyList.value.findIndex(item => item.id === applyId);\n            if (index !== -1) {\n              applyList.value[index].status = 1;\n            }\n            \n            // 刷新报名列表\n            loadApplyList(true);\n          } else {\n            uni.showToast({\n              title: res.message || '操作失败',\n              icon: 'none'\n            });\n          }\n        })\n        .catch(error => {\n          console.error('审核报名失败:', error);\n          uni.showToast({\n            title: '网络异常，请稍后重试',\n            icon: 'none'\n          });\n        })\n        .finally(() => {\n          uni.hideLoading();\n        });\n      }\n    }\n  });\n};\n\n// 拒绝报名 - 打开拒绝弹窗\nconst rejectApply = (applyId) => {\n  // 设置当前操作的申请ID\n  currentRejectId.value = applyId;\n  // 显示弹窗\n  proxy.$refs.rejectPopup.open('center');\n};\n\n// 确认拒绝报名\nconst confirmReject = () => {\n  // 显示加载中\n  uni.showLoading({ title: '处理中...' });\n  \n  // 调用API拒绝报名\n  proxy.$api.activity.reviewApply(currentRejectId.value, {\n    status: 2,  // 2表示拒绝\n    feedback: rejectReason.value.trim() || '管理员已拒绝申请'\n  })\n  .then(res => {\n    if (res.code === 200) {\n      uni.showToast({\n        title: '已拒绝',\n        icon: 'success'\n      });\n      \n      // 更新本地数据\n      const index = applyList.value.findIndex(item => item.id === currentRejectId.value);\n      if (index !== -1) {\n        applyList.value[index].status = 2;\n      }\n      \n      // 刷新报名列表\n      loadApplyList(true);\n    } else {\n      uni.showToast({\n        title: res.message || '操作失败',\n        icon: 'none'\n      });\n    }\n  })\n  .catch(error => {\n    console.error('拒绝报名失败:', error);\n    uni.showToast({\n      title: '网络异常，请稍后重试',\n      icon: 'none'\n    });\n  })\n  .finally(() => {\n    uni.hideLoading();\n    // 关闭弹窗\n    proxy.$refs.rejectPopup.close();\n  });\n};\n\n// 取消拒绝报名\nconst cancelReject = () => {\n  proxy.$refs.rejectPopup.close();\n};\n\n// 返回上一页\nconst goBack = () => {\n  uni.navigateBack();\n};\n\n// 扫码签到\nconst scanCheckIn = () => {\n  // 确保活动ID存在\n  if (!id.value) {\n    uni.showToast({\n      title: '活动ID不存在',\n      icon: 'none'\n    })\n    return\n  }\n  \n  // 调用扫码API\n  uni.scanCode({\n    scanType: ['qrCode'], // 只扫描二维码\n    onlyFromCamera: true, // 只允许从相机扫码\n    success: async (res) => {\n      try {\n        // 显示加载中\n        uni.showLoading({ title: '验证签到码...' })\n        \n        // 获取扫描到的签到码\n        const checkInCode = res.result\n        \n        // 检查签到码格式\n        if (!checkInCode || checkInCode.trim() === '') {\n          uni.showToast({\n            title: '无效的签到码',\n            icon: 'none'\n          })\n          return\n        }\n        \n        console.log('扫描到签到码:', checkInCode)\n        \n        // 调用后端接口验证签到码\n        const result = await proxy.$api.activity.verifyCheckInCode({\n          activityId: id.value,\n          checkInCode: checkInCode\n        })\n        \n        if (result.code === 200) {\n          // 签到成功\n          uni.showToast({\n            title: '签到成功',\n            icon: 'success'\n          })\n\n          // 获取签到的用户信息用于提示\n          const applyId = result.data.applyId\n          const userId = result.data.userId\n          let username = '用户'\n\n          // 查找用户名以显示在提示中\n          const index = applyList.value.findIndex(item =>\n            item.id === applyId || item._id === applyId || item.applyId === applyId\n          )\n\n          if (index !== -1) {\n            username = applyList.value[index].user?.username || '用户'\n          }\n\n          // 立即重新加载报名列表，以获取最新的签到状态和时间\n          await loadApplyList(true)\n\n          // 发送事件通知活动详情页面刷新\n          uni.$emit('activityCheckInSuccess', {\n            activityId: id.value,\n            applyId: applyId\n          })\n\n          // 显示签到成功的用户名\n          setTimeout(() => {\n            uni.showToast({\n              title: `${username} 签到成功`,\n              icon: 'none',\n              duration: 2000\n            })\n          }, 1000)\n        } else {\n          // 签到失败\n          uni.showToast({\n            title: result.message || '签到失败',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('扫码签到错误:', error)\n        uni.showToast({\n          title: '网络异常，请稍后重试',\n          icon: 'none'\n        })\n      } finally {\n        uni.hideLoading()\n      }\n    },\n    fail: (err) => {\n      console.error('扫码失败:', err)\n      \n      // 用户取消不提示\n      if (err.errMsg && err.errMsg.includes('cancel')) {\n        return\n      }\n      \n      uni.showToast({\n        title: '扫码失败，请重试',\n        icon: 'none'\n      })\n    }\n  })\n}\n\n// 添加导出报名表功能\nconst exportApplyList = async() => {\n  uni.showLoading({ title: '导出中...' });\n  const res = await proxy.$api.activity.exportApplyList(id.value)\n  if (res.code === 200 && res.data) {\n\tconst { url, fileName } = res.data\n\tuni.downloadFile({\n\t  url: url,\n\t  success: (res) => {\n\t    if (res.statusCode === 200) {\n\t      const tempFilePath = res.tempFilePath\n\t      // 保存文件\n\t      uni.saveFile({\n\t        tempFilePath: tempFilePath,\n\t        success: (saveRes) => {\n\t          const savedFilePath = saveRes.savedFilePath\n\t          uni.hideLoading()\n\t          uni.showToast({ title: '导出成功', icon: 'success' })\n\t          \n\t          // 打开文件\n\t          uni.openDocument({\n\t            filePath: savedFilePath,\n\t            showMenu: true,\n\t            success: () => {\n\t              console.log('打开文档成功')\n\t            },\n\t            fail: () => {\n\t              uni.showModal({\n\t                title: '提示',\n\t                content: '导出成功，但无法直接打开Excel文件',\n\t                showCancel: false\n\t              })\n\t            }\n\t          })\n\t        },\n\t        fail: () => {\n\t          uni.hideLoading()\n\t          uni.showModal({\n\t            title: '导出提示',\n\t            content: '无法保存文件，是否复制下载链接？',\n\t            confirmText: '复制链接',\n\t            success: (res) => {\n\t              if (res.confirm) {\n\t                uni.setClipboardData({\n\t                  data: url,\n\t                  success: () => {\n\t                    uni.showToast({\n\t                      title: '链接已复制',\n\t                      icon: 'none'\n\t                    })\n\t                  }\n\t                })\n\t              }\n\t            }\n\t          })\n\t        }\n\t      })\n\t    } else {\n\t      uni.hideLoading()\n\t      uni.showToast({ title: '下载文件失败', icon: 'none' })\n\t    }\n\t  },\n\t  fail: () => {\n\t    uni.hideLoading()\n\t    uni.showModal({\n\t      title: '导出提示',\n\t      content: '下载失败，是否复制链接？',\n\t      confirmText: '复制链接',\n\t      success: (res) => {\n\t        if (res.confirm) {\n\t          uni.setClipboardData({\n\t            data: url,\n\t            success: () => {\n\t              uni.showToast({\n\t                title: '链接已复制',\n\t                icon: 'none'\n\t              })\n\t            }\n\t          })\n\t        }\n\t      }\n\t    })\n\t  }\n\t})\n  }else {\n      uni.hideLoading()\n      uni.showToast({ title: res.message || '导出失败', icon: 'none' })\n    }\n\n\n};\n\n// 安全解析表单数据，防止JSON.parse错误\nconst safeParseFormData = (formData) => {\n  if (!formData) return {};\n  \n  // 如果已经是对象，直接返回\n  if (typeof formData === 'object' && !Array.isArray(formData)) {\n    return formData;\n  }\n  \n  try {\n    // 尝试标准JSON解析\n    return JSON.parse(formData);\n  } catch (e) {\n    console.error('解析表单数据失败:', e);\n    \n    // 尝试处理可能的非标准JSON格式\n    try {\n      // 检查是否是类似 \"参加原因: 我想参加\" 这样的格式\n      if (typeof formData === 'string') {\n        // 检查是否是直接的表单文本，如\"参加原因:xxx\"\n        if (formData.startsWith('参加')) {\n          return { \"参加原因\": formData.includes(':') ? formData.split(':')[1].trim() : formData };\n        }\n        \n        // 尝试处理键值对格式\n        if (formData.includes(':')) {\n          const result = {};\n          // 简单分割键值对\n          const pairs = formData.split(',');\n          \n          pairs.forEach(pair => {\n            const colonIndex = pair.indexOf(':');\n            if (colonIndex > 0) {\n              const key = pair.substring(0, colonIndex).trim();\n              const value = pair.substring(colonIndex + 1).trim();\n              result[key] = value;\n            }\n          });\n          \n          if (Object.keys(result).length > 0) {\n            return result;\n          }\n        }\n        \n        // 如果是单行文本，可能是参加原因\n        if (!formData.includes('{') && !formData.includes('}')) {\n          return { \"参加原因\": formData.trim() };\n        }\n      }\n    } catch (e2) {\n      console.error('尝试替代解析方法失败:', e2);\n    }\n    \n    // 所有解析方法都失败，返回带有错误信息的对象\n    return { \"表单数据\": \"解析失败，原始数据: \" + (formData.substring(0, 30) + (formData.length > 30 ? '...' : '')) };\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.applies-container {\n  position: relative;\n  min-height: 100vh;\n  padding-top: v-bind(statusBarHeight + 90 + 'px'); /* 状态栏 + 导航栏高度 */\n  box-sizing: border-box;\n  background-color: #f8f8f8;\n}\n\n.status-bar {\n  width: 100%;\n  background: #b13b7a;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 997;\n}\n\n.custom-navbar {\n  position: fixed;\n  top: v-bind(statusBarHeight + 'px');\n  left: 0;\n  width: 100%;\n  height: 90rpx;\n  background: #b13b7a;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 30rpx;\n  box-sizing: border-box;\n  z-index: 997;\n  \n  .navbar-left {\n    width: 60rpx;\n    height: 60rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .navbar-title {\n    font-size: 34rpx;\n    color: #fff;\n    font-weight: 500;\n  }\n  \n  .navbar-right {\n    width: 60rpx;\n  }\n}\n\n.action-buttons {\n  position: fixed;\n  bottom: 30rpx;\n  left: 0;\n  right: 0;\n  z-index: 999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.scan-btn {\n  background: #b13b7a;\n  color: #fff;\n  padding: 16rpx 40rpx;\n  border-radius: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28rpx;\n  font-weight: 500;\n  box-shadow: 0 4rpx 16rpx rgba(177, 59, 122, 0.3);\n  width: auto;\n  margin: 0 auto;\n  line-height: normal;\n  max-width: 300rpx;\n}\n\n.export-btn {\n  background: #b13b7a;\n  color: #fff;\n  padding: 16rpx 40rpx;\n  border-radius: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 28rpx;\n  font-weight: 500;\n  box-shadow: 0 4rpx 16rpx rgba(177, 59, 122, 0.3);\n  width: auto;\n  line-height: normal;\n  max-width: 300rpx;\n  margin-left: 20rpx;\n}\n\n.activity-info {\n  background: #fff;\n  padding: 30rpx;\n  margin: 20rpx;\n  border-radius: 16rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.05);\n  margin-top: 30rpx;\n  \n  .activity-title-wrap {\n    display: flex;\n    align-items: center;\n    margin-bottom: 16rpx;\n  }\n  \n  .activity-title {\n    font-size: 32rpx;\n    font-weight: 600;\n    color: #333;\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  \n  .activity-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 20rpx;\n    \n    .meta-item {\n      font-size: 24rpx;\n      color: #666;\n      background: #f5f5f5;\n      padding: 8rpx 20rpx;\n      border-radius: 20rpx;\n    }\n  }\n}\n\n/* 筛选选项Tab栏 */\n.filter-tabs {\n  display: flex;\n  background: #fff;\n  padding: 0;\n  position: sticky;\n  top: 0;\n  z-index: 996;\n  width: 100%;\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.05);\n  margin-bottom: 20rpx;\n  \n  .filter-tab {\n    flex: 1;\n    text-align: center;\n    font-size: 28rpx;\n    color: #666;\n    position: relative;\n    padding: 24rpx 0;\n    \n    .tab-name {\n      position: relative;\n      z-index: 2;\n    }\n    \n    .tab-indicator {\n      position: absolute;\n      bottom: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      width: 60rpx;\n      height: 6rpx;\n      background: #b13b7a;\n      border-radius: 3rpx;\n    }\n    \n    &.active {\n      color: #b13b7a;\n      font-weight: 500;\n    }\n  }\n}\n\n/* 报名列表滚动区域 */\n.apply-list {\n  height: calc(100vh - 200rpx); /* 减去导航栏和Tab栏的高度 */\n  padding: 0 20rpx;\n}\n\n.loading-box, .empty-box {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 60rpx 0;\n  \n  .empty-image {\n    width: 240rpx;\n    height: 240rpx;\n    margin-bottom: 20rpx;\n  }\n  \n  .empty-text {\n    font-size: 28rpx;\n    color: #999;\n  }\n}\n\n/* 报名列表项样式 */\n.apply-items {\n  padding-bottom: 150rpx; /* 为底部浮动按钮留出空间 */\n}\n\n.apply-item {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.05);\n  \n  .user-info {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20rpx;\n    \n    .avatar {\n      width: 80rpx;\n      height: 80rpx;\n      border-radius: 50%;\n      margin-right: 20rpx;\n      border: 1px solid #f0f0f0;\n    }\n    \n    .user-detail {\n      flex: 1;\n      \n      .user-name {\n        font-size: 30rpx;\n        font-weight: 600;\n        color: #333;\n        margin-bottom: 6rpx;\n        display: block;\n      }\n      \n      .user-extra {\n        display: flex;\n        flex-wrap: wrap;\n      }\n      \n      .user-id, .user-class {\n        font-size: 24rpx;\n        color: #999;\n        margin-right: 20rpx;\n      }\n    }\n    \n    .apply-status {\n      padding: 6rpx 20rpx;\n      border-radius: 30rpx;\n      font-size: 24rpx;\n      \n      &.status-0 {\n        background: #fff8e6;\n        color: #ff9500;\n      }\n      \n      &.status-1 {\n        background: #e6f7ec;\n        color: #07c160;\n      }\n      \n      &.status-2 {\n        background: #ffebee;\n        color: #f44336;\n      }\n    }\n  }\n  \n  .form-info {\n    background: #f9f9f9;\n    padding: 20rpx;\n    border-radius: 12rpx;\n    margin-bottom: 20rpx;\n    \n    .form-item {\n      margin-bottom: 10rpx;\n      font-size: 26rpx;\n      display: flex;\n      \n      &:last-child {\n        margin-bottom: 0;\n      }\n      \n      .form-label {\n        color: #666;\n        width: 180rpx;\n        flex-shrink: 0;\n      }\n      \n      .form-value {\n        color: #333;\n        flex: 1;\n        word-break: break-all;\n      }\n    }\n  }\n  \n  .checkin-status {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20rpx;\n    \n    .status-text {\n      padding: 6rpx 20rpx;\n      border-radius: 30rpx;\n      font-size: 24rpx;\n      background: #f5f5f5;\n      color: #999;\n      margin-right: 20rpx;\n      \n      &.checked {\n        background: #e6f7ec;\n        color: #07c160;\n      }\n    }\n    \n    .checkin-time {\n      font-size: 24rpx;\n      color: #999;\n    }\n  }\n  \n  .apply-actions {\n    display: flex;\n    justify-content: flex-end;\n    \n    .action-btn {\n      margin-left: 20rpx;\n      padding: 10rpx 30rpx;\n      border-radius: 30rpx;\n      font-size: 26rpx;\n      line-height: 1.5;\n      margin-right: 0;\n    }\n    \n    .reject-btn {\n      background: #f5f5f5;\n      color: #666;\n    }\n    \n    .approve-btn {\n      background: #b13b7a;\n      color: #fff;\n    }\n  }\n}\n\n.empty-box {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 100rpx 0;\n  \n  .empty-image {\n    width: 200rpx;\n    height: 200rpx;\n    margin-bottom: 30rpx;\n  }\n  \n  .empty-text {\n    font-size: 28rpx;\n    color: #999;\n  }\n}\n\n.loading-box {\n  padding: 40rpx 0;\n}\n\n// 底部占位，防止内容被扫码按钮遮挡\n.bottom-space {\n  height: 120rpx;\n  width: 100%;\n}\n\n// 拒绝原因弹窗样式\n.custom-popup {\n  width: 580rpx;\n  background-color: #ffffff;\n  border-radius: 16rpx;\n  overflow: hidden;\n}\n\n.popup-title {\n  font-size: 32rpx;\n  font-weight: 500;\n  color: #333;\n  text-align: center;\n  padding: 40rpx 0 30rpx;\n}\n\n.popup-content {\n  padding: 0 40rpx;\n}\n\n.reject-textarea {\n  width: 100%;\n  min-height: 80rpx;\n  padding: 20rpx;\n  background-color: #f5f5f5;\n  border-radius: 8rpx;\n  font-size: 28rpx;\n  box-sizing: border-box;\n}\n\n.count-container {\n  text-align: center;\n  padding: 20rpx 0;\n}\n\n.count-text {\n  font-size: 26rpx;\n  color: #999;\n}\n\n.popup-buttons {\n  display: flex;\n  border-top: 1px solid #eee;\n}\n\n.popup-button {\n  flex: 1;\n  text-align: center;\n  padding: 30rpx 0;\n  font-size: 30rpx;\n}\n\n.cancel {\n  color: #666;\n  border-right: 1px solid #eee;\n}\n\n.confirm {\n  color: #007AFF;\n  font-weight: 500;\n}\n</style> ","import MiniProgramPage from 'D:/CODE/capstone-project/club-master/club/club_uniapp/pages/activity/applies.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","ref","computed","onMounted","uni","res"],"mappings":"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"}