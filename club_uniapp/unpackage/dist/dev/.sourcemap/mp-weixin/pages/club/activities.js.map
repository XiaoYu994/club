{"version":3,"file":"activities.js","sources":["pages/club/activities.vue","../../../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2x1Yi9hY3Rpdml0aWVzLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"activities-container pageBg\">\r\n    <!-- 顶部导航 -->\r\n    <custom-nav-bar :title=\"'社团活动 - ' + clubName\" :showBack=\"true\" @backClick=\"goBack\"></custom-nav-bar>\r\n    \r\n    <!-- 搜索栏 -->\r\n    <view class=\"search-bar\">\r\n      <view class=\"search-input\">\r\n        <uni-icons type=\"search\" size=\"16\" color=\"#999\"></uni-icons>\r\n        <input \r\n          type=\"text\" \r\n          v-model=\"searchKeyword\" \r\n          placeholder=\"搜索活动\" \r\n          confirm-type=\"search\"\r\n          @confirm=\"searchActivities\"\r\n        />\r\n      </view>\r\n      <view v-if=\"isAdmin\" class=\"filter-btn\" @tap=\"showFilterDrawer\">\r\n        <uni-icons type=\"paperplane\" size=\"18\" color=\"#b13b7a\"></uni-icons>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 标签筛选 -->\r\n    <scroll-view class=\"filter-tabs\" scroll-x>\r\n      <view \r\n        v-for=\"(tag, idx) in filterTags\" \r\n        :key=\"idx\" \r\n        :class=\"['tag-item', currentTag === idx ? 'active' : '']\"\r\n        @tap=\"switchTag(idx)\"\r\n      >\r\n        {{ tag.name }}\r\n      </view>\r\n    </scroll-view>\r\n    \r\n    <!-- 活动列表 -->\r\n    <scroll-view \r\n      scroll-y \r\n      class=\"activities-list\"\r\n      refresher-enabled\r\n      :refresher-triggered=\"refreshing\"\r\n      @refresherrefresh=\"refreshActivities\"\r\n      @scrolltolower=\"loadMore\"\r\n      :show-scrollbar=\"false\"\r\n      enhanced\r\n    >\r\n      <view class=\"list-container\">\r\n        <!-- 使用活动卡片组件 -->\r\n        <activity-card\r\n          v-for=\"(item, idx) in activityList\" \r\n          :key=\"idx\"\r\n          :activity=\"item\"\r\n          :isAdmin=\"isAdmin\"\r\n          @detail=\"goToActivityDetail\"\r\n          @edit=\"editActivity\"\r\n          @delete=\"deleteActivity\"\r\n        ></activity-card>\r\n        \r\n        <!-- 加载状态 -->\r\n        <view v-if=\"isLoading\" class=\"loading-more\">\r\n          <uni-icons type=\"spinner-cycle\" size=\"20\" color=\"#999\"></uni-icons>\r\n          <text>加载中...</text>\r\n        </view>\r\n        \r\n        <!-- 无数据提示 -->\r\n        <view v-if=\"activityList.length === 0 && !isLoading\" class=\"empty-data\">\r\n          <image src=\"/static/images/empty-club.png\" mode=\"aspectFit\"></image>\r\n          <text>暂无活动信息</text>\r\n        </view>\r\n        \r\n        <!-- 加载完毕提示 -->\r\n        <view v-if=\"activityList.length > 0 && !hasMore\" class=\"no-more\">\r\n          <text>没有更多了</text>\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n    \r\n    <!-- 筛选抽屉 -->\r\n    <uni-popup ref=\"filterPopup\" type=\"bottom\">\r\n      <view class=\"filter-drawer\">\r\n        <view class=\"drawer-header\">\r\n          <text>筛选条件</text>\r\n          <view class=\"close-btn\" @tap=\"closeFilterDrawer\">\r\n            <uni-icons type=\"close\" size=\"20\" color=\"#999\"></uni-icons>\r\n          </view>\r\n        </view>\r\n        \r\n        <scroll-view scroll-y class=\"filter-content\">\r\n          <view class=\"filter-section\">\r\n            <text class=\"section-title\">活动状态</text>\r\n            <view class=\"filter-options\">\r\n              <view \r\n                v-for=\"(status, idx) in statusOptions\" \r\n                :key=\"idx\"\r\n                :class=\"['filter-option', filters.status === status.value ? 'active' : '']\"\r\n                @tap=\"selectStatus(status.value)\"\r\n              >\r\n                {{ status.name }}\r\n              </view>\r\n            </view>\r\n          </view>\r\n          \r\n          <view class=\"filter-section\">\r\n            <text class=\"section-title\">排序方式</text>\r\n            <view class=\"filter-options\">\r\n              <view \r\n                v-for=\"(sort, idx) in sortOptions\" \r\n                :key=\"idx\"\r\n                :class=\"['filter-option', filters.sortBy === sort.value ? 'active' : '']\"\r\n                @tap=\"selectSort(sort.value)\"\r\n              >\r\n                {{ sort.name }}\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n        \r\n        <view class=\"drawer-footer\">\r\n          <button class=\"reset-btn\" @tap=\"resetFilters\">重置</button>\r\n          <button class=\"confirm-btn\" @tap=\"applyFilters\">确认</button>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n    \r\n    <!-- 创建活动按钮 -->\r\n    <view v-if=\"isAdmin\" class=\"create-btn\" @tap=\"createActivity\">\r\n      <uni-icons type=\"plusempty\" size=\"20\" color=\"#fff\"></uni-icons>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, getCurrentInstance } from 'vue'\r\nimport { formatDate } from '@/utils/common.js'\r\nimport ActivityCard from '@/components/activity-card/activity-card.vue'\r\n\r\nconst { proxy } = getCurrentInstance()\r\n\r\n// 社团ID和名称\r\nconst clubId = ref(null)\r\nconst clubName = ref('')\r\n\r\n// 搜索关键字\r\nconst searchKeyword = ref('')\r\n\r\n// 当前选中的标签\r\nconst currentTag = ref(0)\r\n\r\n// 筛选标签\r\nconst filterTags = ref([\r\n  { name: '全部活动', type: 'all' },\r\n  { name: '进行中', type: 'ongoing' },\r\n  { name: '报名中', type: 'signup' },\r\n  { name: '已结束', type: 'ended' }\r\n])\r\n\r\n// 状态选项\r\nconst statusOptions = [\r\n  { name: '全部', value: -1 },\r\n  { name: '报名中', value: 1 },\r\n  { name: '进行中', value: 2 },\r\n  { name: '已结束', value: 3 },\r\n  { name: '已取消', value: 0 }\r\n]\r\n\r\n// 排序选项\r\nconst sortOptions = [\r\n  { name: '创建时间', value: 'create_time' },\r\n  { name: '开始时间', value: 'start_time' },\r\n  { name: '报名人数', value: 'join_count' }\r\n]\r\n\r\n// 筛选条件\r\nconst filters = reactive({\r\n  status: -1,\r\n  sortBy: 'create_time',\r\n  isAsc: false\r\n})\r\n\r\n// 列表数据\r\nconst activityList = ref([])\r\nconst page = ref(1)\r\nconst pageSize = ref(10)\r\nconst hasMore = ref(true)\r\nconst isLoading = ref(false)\r\nconst refreshing = ref(false)\r\nconst isAdmin = ref(false)\r\n\r\n// 弹窗引用\r\nconst filterPopup = ref(null)\r\n\r\n// 初始化\r\nonMounted(() => {\r\n  // 获取路由参数\r\n  const pages = getCurrentPages()\r\n  const currentPage = pages[pages.length - 1]\r\n  clubId.value = currentPage.options.clubId\r\n  clubName.value = decodeURIComponent(currentPage.options.clubName || '')\r\n  \r\n  // 检查用户角色\r\n  checkUserRole()\r\n  \r\n  // 加载活动列表\r\n  loadActivities()\r\n})\r\n\r\n// 检查用户角色\r\nconst checkUserRole = async () => {\r\n  try {\r\n    if (!clubId.value) return\r\n    \r\n    const res = await proxy.$api.club.getUserRole(clubId.value)\r\n    \r\n    if (res.code === 200 && res.data) {\r\n      // 检查是否是管理员\r\n      isAdmin.value = res.data.type > 0 && res.data.status === 1\r\n    } else {\r\n      isAdmin.value = false\r\n    }\r\n  } catch (error) {\r\n    isAdmin.value = false\r\n  }\r\n}\r\n\r\n// 加载活动列表\r\nconst loadActivities = async () => {\r\n  if (isLoading.value) return\r\n  \r\n  isLoading.value = true\r\n  \r\n  try {\r\n    // 构建查询参数\r\n    const params = {\r\n      pageNo: page.value,\r\n      pageSize: pageSize.value,\r\n      keyword: searchKeyword.value,\r\n      orderBy: filters.sortBy,\r\n      isAsc: filters.isAsc\r\n    }\r\n    \r\n    // 根据当前选中的标签添加对应的筛选条件\r\n    if (currentTag.value > 0) {\r\n      const tagType = filterTags.value[currentTag.value].type\r\n      if (tagType === 'ongoing') {\r\n        params.status = 2\r\n      } else if (tagType === 'signup') {\r\n        params.status = 1\r\n      } else if (tagType === 'ended') {\r\n        params.status = 3\r\n      }\r\n    }\r\n    \r\n    // 添加筛选条件\r\n    if (filters.status !== -1) {\r\n      params.status = filters.status\r\n    }\r\n    \r\n    // 调用API获取数据 - 使用getClubActivities而不是getActivityList\r\n    const res = await proxy.$api.activity.getClubActivities(clubId.value, params)\r\n    \r\n    if (res.code === 200) {\r\n      const activities = res.data.list || []\r\n      \r\n      if (page.value === 1) {\r\n        activityList.value = activities\r\n      } else {\r\n        activityList.value = [...activityList.value, ...activities]\r\n      }\r\n      \r\n      hasMore.value = activities.length === pageSize.value\r\n      page.value++\r\n    } else {\r\n      uni.showToast({\r\n        title: res.message || '加载失败',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error('加载活动列表失败', error)\r\n    uni.showToast({\r\n      title: '网络异常，请稍后重试',\r\n      icon: 'none'\r\n    })\r\n  } finally {\r\n    isLoading.value = false\r\n    refreshing.value = false\r\n  }\r\n}\r\n\r\n// 刷新活动列表\r\nconst refreshActivities = () => {\r\n  refreshing.value = true\r\n  page.value = 1\r\n  hasMore.value = true\r\n  \r\n  // 重置搜索关键字\r\n  searchKeyword.value = ''\r\n  \r\n  // 重置当前选中的标签\r\n  currentTag.value = 0\r\n  \r\n  // 重置筛选条件\r\n  resetFilters()\r\n  \r\n  // 重新加载数据\r\n  loadActivities()\r\n}\r\n\r\n// 加载更多\r\nconst loadMore = () => {\r\n  if (hasMore.value && !isLoading.value) {\r\n    loadActivities()\r\n  }\r\n}\r\n\r\n// 搜索活动\r\nconst searchActivities = () => {\r\n  page.value = 1\r\n  loadActivities()\r\n}\r\n\r\n// 切换标签\r\nconst switchTag = (idx) => {\r\n  if (currentTag.value === idx) return\r\n  currentTag.value = idx\r\n  page.value = 1\r\n  loadActivities()\r\n}\r\n\r\n// 显示筛选抽屉\r\nconst showFilterDrawer = () => {\r\n  filterPopup.value.open()\r\n}\r\n\r\n// 关闭筛选抽屉\r\nconst closeFilterDrawer = () => {\r\n  filterPopup.value.close()\r\n}\r\n\r\n// 选择活动状态\r\nconst selectStatus = (status) => {\r\n  filters.status = status\r\n}\r\n\r\n// 选择排序方式\r\nconst selectSort = (sort) => {\r\n  filters.sortBy = sort\r\n  // 其他的都按照降序排\r\n  filters.isAsc = false\r\n}\r\n\r\n// 重置筛选条件\r\nconst resetFilters = () => {\r\n  filters.status = -1\r\n  filters.sortBy = 'create_time'\r\n  filters.isAsc = false\r\n}\r\n\r\n// 应用筛选条件\r\nconst applyFilters = () => {\r\n  page.value = 1\r\n  closeFilterDrawer()\r\n  loadActivities()\r\n}\r\n\r\n// 跳转到活动详情\r\nconst goToActivityDetail = (activity) => {\r\n  uni.navigateTo({\r\n    url: `/pages/activity/activityDeatil?id=${activity.id}`\r\n  })\r\n}\r\n\r\n// 创建活动\r\nconst createActivity = () => {\r\n  uni.navigateTo({\r\n    url: `/pages/activity/edit?clubId=${clubId.value}`\r\n  })\r\n}\r\n\r\n// 编辑活动\r\nconst editActivity = (activity) => {\r\n  uni.navigateTo({\r\n    url: `/pages/activity/edit?id=${activity.id}&clubId=${clubId.value}`\r\n  })\r\n}\r\n\r\n// 删除活动\r\nconst deleteActivity = (activity) => {\r\n  uni.showModal({\r\n    title: '确认删除',\r\n    content: `确定要删除活动\"${activity.title}\"吗？`,\r\n    success: async (res) => {\r\n      if (res.confirm) {\r\n        try {\r\n          uni.showLoading({ title: '处理中...' })\r\n          \r\n          const result = await proxy.$api.activity.deleteActivity(activity.id)\r\n          \r\n          if (result.code === 200) {\r\n            uni.showToast({\r\n              title: '删除成功',\r\n              icon: 'success'\r\n            })\r\n            \r\n            // 更新本地数据\r\n            activityList.value = activityList.value.filter(item => item.id !== activity.id)\r\n          } else {\r\n            uni.showToast({\r\n              title: result.message || '删除失败',\r\n              icon: 'none'\r\n            })\r\n          }\r\n        } catch (error) {\r\n          uni.showToast({\r\n            title: '网络异常，请稍后重试',\r\n            icon: 'none'\r\n          })\r\n        } finally {\r\n          uni.hideLoading()\r\n        }\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 返回上一页\r\nconst goBack = () => {\r\n  uni.navigateBack()\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.activities-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  \r\n  .search-bar {\r\n    padding: 30rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    .search-input {\r\n      flex: 1;\r\n      height: 72rpx;\r\n      background: rgba(255, 255, 255, 0.8);\r\n      border-radius: 36rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0 30rpx;\r\n      box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.06);\r\n      \r\n      input {\r\n        flex: 1;\r\n        height: 72rpx;\r\n        font-size: 28rpx;\r\n        margin-left: 20rpx;\r\n      }\r\n    }\r\n    \r\n    .filter-btn {\r\n      width: 72rpx;\r\n      height: 72rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-left: 20rpx;\r\n      background: rgba(255, 255, 255, 0.8);\r\n      border-radius: 50%;\r\n      box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.06);\r\n    }\r\n  }\r\n  \r\n  .filter-tabs {\r\n    height: 80rpx;\r\n    white-space: nowrap;\r\n    padding: 0 20rpx;\r\n    margin: 0 10rpx;\r\n    \r\n    .tag-item {\r\n      display: inline-block;\r\n      padding: 12rpx 30rpx;\r\n      font-size: 28rpx;\r\n      color: #666;\r\n      margin-right: 20rpx;\r\n      border-radius: 30rpx;\r\n      background: rgba(255, 255, 255, 0.8);\r\n      box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05);\r\n      \r\n      &.active {\r\n        color: #fff;\r\n        background: #b13b7a;\r\n        box-shadow: 0 2rpx 10rpx rgba(177, 59, 122, 0.3);\r\n      }\r\n    }\r\n  }\r\n  \r\n  .activities-list {\r\n    flex: 1;\r\n    padding: 20rpx 30rpx;\r\n    box-sizing: border-box;\r\n    \r\n    /* 隐藏滚动条 - 样式方式 */\r\n    &::-webkit-scrollbar {\r\n      width: 0;\r\n      background: transparent;\r\n      display: none;\r\n    }\r\n    \r\n    /* 兼容Firefox浏览器 */\r\n    scrollbar-width: none;\r\n    /* 兼容IE和Edge浏览器 */\r\n    -ms-overflow-style: none;\r\n    \r\n    .list-container {\r\n      padding-bottom: 40rpx;\r\n      width: 100%;\r\n    }\r\n    \r\n    .loading-more {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 30rpx 0;\r\n      \r\n      text {\r\n        font-size: 24rpx;\r\n        color: #999;\r\n        margin-left: 10rpx;\r\n      }\r\n    }\r\n    \r\n    .empty-data {\r\n      padding: 100rpx 0;\r\n      text-align: center;\r\n      \r\n      image {\r\n        width: 200rpx;\r\n        height: 200rpx;\r\n        margin-bottom: 20rpx;\r\n        opacity: 0.8;\r\n      }\r\n      \r\n      text {\r\n        font-size: 28rpx;\r\n        color: #999;\r\n      }\r\n    }\r\n    \r\n    .no-more {\r\n      text-align: center;\r\n      padding: 30rpx 0;\r\n      \r\n      text {\r\n        font-size: 24rpx;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .filter-drawer {\r\n    width: 100%;\r\n    background: #fff;\r\n    border-radius: 24rpx 24rpx 0 0;\r\n    padding: 30rpx 30rpx 0;\r\n    box-sizing: border-box;\r\n    max-height: 80vh;\r\n    display: flex;\r\n    flex-direction: column;\r\n    \r\n    .drawer-header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding-bottom: 30rpx;\r\n      border-bottom: 1rpx solid #eee;\r\n      \r\n      text {\r\n        font-size: 32rpx;\r\n        font-weight: 600;\r\n        color: #333;\r\n      }\r\n      \r\n      .close-btn {\r\n        padding: 10rpx;\r\n      }\r\n    }\r\n    \r\n    .filter-content {\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      max-height: 60vh;\r\n    }\r\n    \r\n    .filter-section {\r\n      margin: 30rpx 0;\r\n      \r\n      .section-title {\r\n        font-size: 28rpx;\r\n        color: #666;\r\n        margin-bottom: 20rpx;\r\n        font-weight: 500;\r\n      }\r\n      \r\n      .filter-options {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        \r\n        .filter-option {\r\n          padding: 12rpx 24rpx;\r\n          border: 1rpx solid #eee;\r\n          border-radius: 30rpx;\r\n          font-size: 26rpx;\r\n          color: #666;\r\n          margin-right: 20rpx;\r\n          margin-bottom: 20rpx;\r\n          \r\n          &.active {\r\n            background: #b13b7a;\r\n            color: #fff;\r\n            border-color: #b13b7a;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    .drawer-footer {\r\n      padding: 20rpx 0 40rpx;\r\n      display: flex;\r\n      border-top: 1rpx solid #f5f5f5;\r\n      \r\n      button {\r\n        flex: 1;\r\n        height: 80rpx;\r\n        line-height: 80rpx;\r\n        text-align: center;\r\n        border-radius: 40rpx;\r\n        margin: 0 10rpx;\r\n        font-size: 28rpx;\r\n      }\r\n      \r\n      .reset-btn {\r\n        background: #f5f5f5;\r\n        color: #666;\r\n      }\r\n      \r\n      .confirm-btn {\r\n        background: #b13b7a;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .create-btn {\r\n    position: fixed;\r\n    right: 40rpx;\r\n    bottom: 40rpx;\r\n    width: 100rpx;\r\n    height: 100rpx;\r\n    border-radius: 50%;\r\n    background: #b13b7a;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    box-shadow: 0 4rpx 16rpx rgba(177, 59, 122, 0.4);\r\n    z-index: 100;\r\n  }\r\n}\r\n</style> ","import MiniProgramPage from 'D:/CODE/capstone-project/club-master/club/club_uniapp/pages/club/activities.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","ref","reactive","onMounted","uni"],"mappings":"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"}