{"version":3,"file":"settings.js","sources":["pages/chat/settings.vue","../../../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhdC9zZXR0aW5ncy52dWU"],"sourcesContent":["<template>\r\n  <view class=\"settings-container pageBg\">\r\n\t<!-- 状态栏 -->\r\n\t<view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n\r\n\t<!-- 顶部导航 -->\r\n\t<!-- #ifndef MP-TOUTIAO -->\r\n\t<custom-nav-bar title=\"群聊设置\" :showBack=\"true\"></custom-nav-bar>\r\n\t<!-- #endif -->\r\n\r\n\t<!-- 设置内容 -->\r\n\t<scroll-view scroll-y class=\"settings-content\">\r\n\t  <!-- 群组头像 -->\r\n\t  <view class=\"avatar-container\">\r\n\t\t<view class=\"avatar-wrapper\" @tap=\"changeAvatar\">\r\n\t\t  <image\r\n\t\t\tclass=\"group-avatar\"\r\n\t\t\t:src=\"groupInfo.avatar || '/static/images/default-group.png'\"\r\n\t\t\tmode=\"aspectFill\"\r\n\t\t  />\r\n\t\t  <view class=\"avatar-mask\" v-if=\"isOwner\">\r\n\t\t\t<uni-icons type=\"camera-filled\" size=\"24\" color=\"#fff\" />\r\n\t\t  </view>\r\n\t\t</view>\r\n\t\t<text class=\"avatar-hint\" v-if=\"isOwner\">点击修改群头像</text>\r\n\t\t<text class=\"avatar-hint disabled\" v-else>仅群主可修改</text>\r\n\t  </view>\r\n\r\n\t  <!-- 群组名称 -->\r\n\t  <view class=\"group-name\">{{ groupInfo.name || '加载中...' }}</view>\r\n\r\n\t  <!-- 群组信息 -->\r\n\t  <view class=\"info-section\">\r\n\t\t<view class=\"info-item\">\r\n\t\t  <uni-icons type=\"person-filled\" size=\"18\" color=\"#b13b7a\"></uni-icons>\r\n\t\t  <text>{{ groupInfo.memberCount || 0 }}名成员</text>\r\n\t\t</view>\r\n\t\t<view class=\"info-item\" v-if=\"groupInfo.createTime\">\r\n\t\t  <uni-icons type=\"calendar-filled\" size=\"18\" color=\"#b13b7a\"></uni-icons>\r\n\t\t  <text>创建于 {{ formatDate(groupInfo.createTime) }}</text>\r\n\t\t</view>\r\n\t  </view>\r\n\r\n\t  <!-- 群简介 -->\r\n\t  <view class=\"detail-section\" v-if=\"groupInfo.description\">\r\n\t\t<view class=\"section-title\">群简介</view>\r\n\t\t<view class=\"section-content\">{{ groupInfo.description }}</view>\r\n\t  </view>\r\n\r\n\t  <!-- 操作按钮 -->\r\n\t  <view class=\"action-section\">\r\n\t\t<view class=\"action-btn danger\" @tap=\"quitGroup\" v-if=\"!isOwner\">\r\n\t\t  <uni-icons type=\"loop\" size=\"20\" color=\"#ff4d4f\"></uni-icons>\r\n\t\t  <text>退出群聊</text>\r\n\t\t</view>\r\n\t\t<view class=\"action-btn danger\" @tap=\"dismissGroup\" v-if=\"isOwner\">\r\n\t\t  <uni-icons type=\"trash-filled\" size=\"20\" color=\"#ff4d4f\"></uni-icons>\r\n\t\t  <text>解散群聊</text>\r\n\t\t</view>\r\n\t  </view>\r\n\t</scroll-view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue';\r\nimport { onLoad } from '@dcloudio/uni-app';\r\nimport { chatAPI } from '@/api/api.js';\r\nimport apiModule from '@/api/api.js';\r\nimport { getUser } from '@/utils/auth.js';\r\nimport { getStatusBarHeight } from '@/utils/system.js';\r\n\r\nconst statusBarHeight = getStatusBarHeight();\r\n\r\n// 群组ID\r\nconst groupId = ref(null);\r\n\r\n// 群组信息\r\nconst groupInfo = reactive({\r\n  name: '',\r\n  avatar: '',\r\n  description: '',\r\n  memberCount: 0,\r\n  ownerId: null,\r\n  clubId: null,\r\n  createTime: null\r\n});\r\n\r\n// 当前用户信息\r\nconst userInfo = getUser();\r\nconst currentUserId = ref(userInfo?.id ? Number(userInfo.id) : null);\r\nconst userRole = ref(0); // 0-普通成员 1-管理员 2-群主\r\n\r\n// 计算属性\r\nconst isOwner = computed(() => {\r\n  console.log('[权限检查] currentUserId:', currentUserId.value, 'ownerId:', groupInfo.ownerId);\r\n  return currentUserId.value && groupInfo.ownerId && currentUserId.value === groupInfo.ownerId;\r\n});\r\nconst isAdmin = computed(() => userRole.value === 1 || userRole.value === 2);\r\n\r\n// 页面加载\r\nonLoad(async (options) => {\r\n  console.log('[群聊设置] 页面加载，参数:', options);\r\n  if (options.id) {\r\n\tgroupId.value = parseInt(options.id);\r\n\tawait loadGroupInfo();\r\n\tawait loadUserRole();\r\n  }\r\n});\r\n\r\n// 加载群组信息\r\nconst loadGroupInfo = async () => {\r\n  try {\r\n\tconsole.log('[群聊设置] 开始加载群组信息, groupId:', groupId.value);\r\n\tconst res = await chatAPI.getGroupDetail(groupId.value);\r\n\tconsole.log('[群聊设置] 群组详情响应:', res);\r\n\r\n\tif (res.code === 200 && res.data) {\r\n\t  Object.assign(groupInfo, res.data);\r\n\t  console.log('[群聊设置] 群组信息加载成功:', groupInfo);\r\n\t  console.log('[群聊设置] ownerId:', groupInfo.ownerId, 'type:', typeof groupInfo.ownerId);\r\n\t  console.log('[群聊设置] createTime:', groupInfo.createTime, 'type:', typeof groupInfo.createTime);\r\n\t  console.log('[群聊设置] 格式化后的时间:', formatDate(groupInfo.createTime));\r\n\t} else {\r\n\t  uni.showToast({\r\n\t\ttitle: res.msg || '加载群组信息失败',\r\n\t\ticon: 'none'\r\n\t  });\r\n\t}\r\n  } catch (error) {\r\n\tconsole.error('[群聊设置] 加载群组信息失败:', error);\r\n\tuni.showToast({\r\n\t  title: '加载群组信息失败',\r\n\t  icon: 'none'\r\n\t});\r\n  }\r\n};\r\n\r\n// 加载用户在群中的角色\r\nconst loadUserRole = async () => {\r\n  try {\r\n\t// 通过clubId获取用户角色\r\n\tif (!groupInfo.clubId) {\r\n\t  console.log('[群聊设置] clubId为空，无法获取角色');\r\n\t  return;\r\n\t}\r\n\r\n\tconst res = await apiModule.club.getUserRole(groupInfo.clubId);\r\n\tconsole.log('[群聊设置] 用户角色响应:', res);\r\n\r\n\tif (res.code === 200 && res.data) {\r\n\t  userRole.value = res.data.type || 0;\r\n\t  console.log('[群聊设置] 用户角色:', userRole.value);\r\n\t}\r\n  } catch (error) {\r\n\tconsole.error('[群聊设置] 加载用户角色失败:', error);\r\n  }\r\n};\r\n\r\n// 修改群头像\r\nconst changeAvatar = () => {\r\n  console.log('[修改头像] isOwner:', isOwner.value, 'currentUserId:', currentUserId.value, 'ownerId:', groupInfo.ownerId);\r\n\r\n  if (!isOwner.value) {\r\n\tuni.showToast({\r\n\t  title: '仅群主可修改头像',\r\n\t  icon: 'none'\r\n\t});\r\n\treturn;\r\n  }\r\n\r\n  uni.chooseImage({\r\n\tcount: 1,\r\n\tsizeType: ['compressed'],\r\n\tsourceType: ['album', 'camera'],\r\n\tsuccess: async (res) => {\r\n\t  const tempFilePath = res.tempFilePaths[0];\r\n\r\n\t  try {\r\n\t\tuni.showLoading({ title: '上传中...' });\r\n\r\n\t\t// 上传图片\r\n\t\tconst uploadRes = await apiModule.common.upload(tempFilePath);\r\n\t\tconsole.log('[修改头像] 上传响应:', uploadRes);\r\n\r\n\t\tif (uploadRes.code === 200 && uploadRes.data && uploadRes.data.url) {\r\n\t\t  // 更新群头像\r\n\t\t  const updateRes = await chatAPI.updateGroupInfo(groupId.value, {\r\n\t\t\tavatar: uploadRes.data.url\r\n\t\t  });\r\n\t\t  console.log('[修改头像] 更新响应:', updateRes);\r\n\r\n\t\t  if (updateRes.code === 200) {\r\n\t\t\tgroupInfo.avatar = uploadRes.data.url;\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: '头像修改成功',\r\n\t\t\t  icon: 'success'\r\n\t\t\t});\r\n\t\t  } else {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: updateRes.msg || '修改失败',\r\n\t\t\t  icon: 'none'\r\n\t\t\t});\r\n\t\t  }\r\n\t\t} else {\r\n\t\t  uni.showToast({\r\n\t\t\ttitle: uploadRes.msg || '上传失败',\r\n\t\t\ticon: 'none'\r\n\t\t  });\r\n\t\t}\r\n\t  } catch (error) {\r\n\t\tconsole.error('[修改头像] 失败:', error);\r\n\t\tuni.showToast({\r\n\t\t  title: '修改失败',\r\n\t\t  icon: 'none'\r\n\t\t});\r\n\t  } finally {\r\n\t\tuni.hideLoading();\r\n\t  }\r\n\t}\r\n  });\r\n};\r\n\r\n// 退出群聊\r\nconst quitGroup = () => {\r\n  uni.showModal({\r\n\ttitle: '退出群聊',\r\n\tcontent: '确定要退出该群聊吗？',\r\n\tconfirmColor: '#ff4d4f',\r\n\tsuccess: async (res) => {\r\n\t  if (res.confirm) {\r\n\t\ttry {\r\n\t\t  uni.showLoading({ title: '退出中...' });\r\n\r\n\t\t  const response = await chatAPI.quitGroup(groupId.value);\r\n\r\n\t\t  if (response.code === 200) {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: '已退出群聊',\r\n\t\t\t  icon: 'success'\r\n\t\t\t});\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t  uni.navigateBack({ delta: 2 });\r\n\t\t\t}, 1500);\r\n\t\t  } else {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: response.msg || '退出失败',\r\n\t\t\t  icon: 'none'\r\n\t\t\t});\r\n\t\t  }\r\n\t\t} catch (error) {\r\n\t\t  console.error('[退出群聊] 失败:', error);\r\n\t\t  uni.showToast({\r\n\t\t\ttitle: '退出失败',\r\n\t\t\ticon: 'none'\r\n\t\t  });\r\n\t\t} finally {\r\n\t\t  uni.hideLoading();\r\n\t\t}\r\n\t  }\r\n\t}\r\n  });\r\n};\r\n\r\n// 解散群聊\r\nconst dismissGroup = () => {\r\n  uni.showModal({\r\n\ttitle: '解散群聊',\r\n\tcontent: '解散后，所有成员将被移出群聊。确定要解散该群聊吗？',\r\n\tconfirmText: '确定解散',\r\n\tconfirmColor: '#ff4d4f',\r\n\tsuccess: async (res) => {\r\n\t  if (res.confirm) {\r\n\t\ttry {\r\n\t\t  uni.showLoading({ title: '解散中...' });\r\n\r\n\t\t  const response = await chatAPI.dismissGroup(groupId.value);\r\n\r\n\t\t  if (response.code === 200) {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: '群聊已解散',\r\n\t\t\t  icon: 'success'\r\n\t\t\t});\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t  uni.navigateBack({ delta: 2 });\r\n\t\t\t}, 1500);\r\n\t\t  } else {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: response.msg || '解散失败',\r\n\t\t\t  icon: 'none'\r\n\t\t\t});\r\n\t\t  }\r\n\t\t} catch (error) {\r\n\t\t  console.error('[解散群聊] 失败:', error);\r\n\t\t  uni.showToast({\r\n\t\t\ttitle: '解散失败',\r\n\t\t\ticon: 'none'\r\n\t\t  });\r\n\t\t} finally {\r\n\t\t  uni.hideLoading();\r\n\t\t}\r\n\t  }\r\n\t}\r\n  });\r\n};\r\n\r\n// 格式化日期\r\nconst formatDate = (timestamp) => {\r\n  if (!timestamp) {\r\n\tconsole.log('[formatDate] timestamp为空');\r\n\treturn '';\r\n  }\r\n\r\n  try {\r\n\t// 确保timestamp是数字类型\r\n\tconst time = typeof timestamp === 'string' ? parseInt(timestamp) : timestamp;\r\n\r\n\tif (isNaN(time)) {\r\n\t  console.error('[formatDate] 无效的时间戳:', timestamp);\r\n\t  return '';\r\n\t}\r\n\r\n\tconst date = new Date(time);\r\n\r\n\t// 检查日期是否有效\r\n\tif (isNaN(date.getTime())) {\r\n\t  console.error('[formatDate] 无效的日期对象:', timestamp);\r\n\t  return '';\r\n\t}\r\n\r\n\tconst year = date.getFullYear();\r\n\tconst month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n\tconst day = date.getDate().toString().padStart(2, '0');\r\n\r\n\tconst formattedDate = `${year}-${month}-${day}`;\r\n\tconsole.log('[formatDate] 输入:', timestamp, '输出:', formattedDate);\r\n\treturn formattedDate;\r\n  } catch (error) {\r\n\tconsole.error('[formatDate] 格式化失败:', error, 'timestamp:', timestamp);\r\n\treturn '';\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings-container {\r\n  min-height: 100vh;\r\n}\r\n\r\n.status-bar {\r\n  background: linear-gradient(to bottom, transparent, #fff 400rpx),\r\n\t\t\t  linear-gradient(to right, #beecd8 20%, #F4E2D8);\r\n}\r\n\r\n.settings-content {\r\n  height: calc(100vh - 88rpx);\r\n  padding: 40rpx 30rpx;\r\n}\r\n\r\n// 头像区域\r\n.avatar-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 30rpx;\r\n\r\n  .avatar-wrapper {\r\n\tposition: relative;\r\n\tmargin-bottom: 20rpx;\r\n\r\n\t.group-avatar {\r\n\t  width: 160rpx;\r\n\t  height: 160rpx;\r\n\t  border-radius: 20rpx;\r\n\t  background: #f0f0f0;\r\n\t}\r\n\r\n\t.avatar-mask {\r\n\t  position: absolute;\r\n\t  bottom: 0;\r\n\t  left: 0;\r\n\t  right: 0;\r\n\t  height: 50rpx;\r\n\t  background: rgba(0, 0, 0, 0.5);\r\n\t  border-bottom-left-radius: 20rpx;\r\n\t  border-bottom-right-radius: 20rpx;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t}\r\n  }\r\n\r\n  .avatar-hint {\r\n\tfont-size: 24rpx;\r\n\tcolor: #b13b7a;\r\n\r\n\t&.disabled {\r\n\t  color: #999;\r\n\t}\r\n  }\r\n}\r\n\r\n// 群名称\r\n.group-name {\r\n  font-size: 40rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n// 群信息\r\n.info-section {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 40rpx;\r\n  margin-bottom: 40rpx;\r\n  flex-wrap: wrap;\r\n\r\n  .info-item {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 8rpx;\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n  }\r\n}\r\n\r\n// 详情区域\r\n.detail-section {\r\n  background: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 30rpx;\r\n\r\n  .section-title {\r\n\tfont-size: 28rpx;\r\n\tfont-weight: 600;\r\n\tcolor: #333;\r\n\tmargin-bottom: 20rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\r\n\t&::before {\r\n\t  content: '';\r\n\t  display: inline-block;\r\n\t  width: 6rpx;\r\n\t  height: 28rpx;\r\n\t  background: #b13b7a;\r\n\t  margin-right: 12rpx;\r\n\t  border-radius: 3rpx;\r\n\t}\r\n  }\r\n\r\n  .section-content {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\tline-height: 1.6;\r\n  }\r\n}\r\n\r\n// 操作按钮\r\n.action-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20rpx;\r\n  margin-top: 60rpx;\r\n\r\n  .action-btn {\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n\theight: 90rpx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 12rpx;\r\n\tfont-size: 30rpx;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\r\n\t&.danger {\r\n\t  color: #ff4d4f;\r\n\r\n\t  &:active {\r\n\t\tbackground: #fff1f0;\r\n\t  }\r\n\t}\r\n\r\n\t&:active {\r\n\t  background: #f5f5f5;\r\n\t}\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/CODE/capstone-project/club-master/club/club_uniapp/pages/chat/settings.vue'\nwx.createPage(MiniProgramPage)"],"names":["getStatusBarHeight","ref","reactive","getUser","computed","uni","onLoad","chatAPI","apiModule"],"mappings":"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"}