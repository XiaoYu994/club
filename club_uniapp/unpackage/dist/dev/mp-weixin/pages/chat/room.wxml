<view class="{{['chat-room-container', 'pageBg', 'data-v-bc4afd2d', E && 'panel-open']}}"><custom-nav-bar wx:if="{{g}}" class="data-v-bc4afd2d" u-s="{{['left']}}" u-i="bc4afd2d-0" bind:__l="__l" u-p="{{g}}"><view class="nav-left-btns data-v-bc4afd2d" slot="left"><view class="nav-btn data-v-bc4afd2d" bindtap="{{d}}"><uni-icons wx:if="{{a}}" class="data-v-bc4afd2d" u-i="bc4afd2d-1,bc4afd2d-0" bind:__l="__l" u-p="{{a}}"/><text wx:if="{{b}}" class="member-count-badge data-v-bc4afd2d">{{c}}</text></view><view class="nav-btn data-v-bc4afd2d" bindtap="{{f}}"><uni-icons wx:if="{{e}}" class="data-v-bc4afd2d" u-i="bc4afd2d-2,bc4afd2d-0" bind:__l="__l" u-p="{{e}}"/></view></view></custom-nav-bar><scroll-view class="chat-list data-v-bc4afd2d" scroll-y bindscrolltoupper="{{k}}" upper-threshold="50" scroll-with-animation show-scrollbar="false" scroll-into-view="{{l}}"><view wx:if="{{h}}" class="load-more data-v-bc4afd2d"><view class="loading-icon data-v-bc4afd2d"></view><text class="data-v-bc4afd2d">æ­£åœ¨åŠ è½½æ›´å¤š...</text></view><view wx:elif="{{i}}" class="load-more data-v-bc4afd2d"><text class="data-v-bc4afd2d">æ²¡æœ‰æ›´å¤šæ¶ˆæ¯äº†</text></view><view class="messages-container data-v-bc4afd2d"><view wx:for="{{j}}" wx:for-item="msg" wx:key="U" id="{{msg.V}}" class="message-item data-v-bc4afd2d"><view wx:if="{{msg.a}}" class="time-divider data-v-bc4afd2d"><text class="data-v-bc4afd2d">{{msg.b}}</text></view><view class="{{['data-v-bc4afd2d', 'message-row', msg.T]}}"><block wx:if="{{msg.c}}"><view class="avatar-container data-v-bc4afd2d"><image class="avatar data-v-bc4afd2d" src="{{msg.d}}" mode="aspectFill"/></view><view class="message-content data-v-bc4afd2d"><view class="sender-name data-v-bc4afd2d">{{msg.e}}</view><view class="bubble data-v-bc4afd2d"><block wx:if="{{msg.f}}"><text class="text data-v-bc4afd2d">{{msg.g}}</text></block><block wx:elif="{{msg.h}}"><image class="image data-v-bc4afd2d" src="{{msg.i}}" bindtap="{{msg.j}}" mode="widthFix"/></block><block wx:elif="{{msg.k}}"><view class="file-box data-v-bc4afd2d" bindtap="{{msg.o}}"><uni-icons wx:if="{{msg.m}}" class="data-v-bc4afd2d" u-i="{{msg.l}}" bind:__l="__l" u-p="{{msg.m}}"/><text class="file-name data-v-bc4afd2d">{{msg.n}}</text></view></block><block wx:elif="{{msg.p}}"><view class="location-box data-v-bc4afd2d" bindtap="{{msg.t}}"><uni-icons wx:if="{{msg.r}}" class="data-v-bc4afd2d" u-i="{{msg.q}}" bind:__l="__l" u-p="{{msg.r}}"/><text class="location-name data-v-bc4afd2d">{{msg.s}}</text></view></block><block wx:elif="{{msg.v}}"><view class="custom-box data-v-bc4afd2d"><uni-icons wx:if="{{msg.x}}" class="data-v-bc4afd2d" u-i="{{msg.w}}" bind:__l="__l" u-p="{{msg.x}}"/><text class="custom-text data-v-bc4afd2d">è‡ªå®šä¹‰æ¶ˆæ¯</text></view></block></view><view class="time data-v-bc4afd2d">{{msg.y}}</view></view></block><block wx:else><view class="message-content self data-v-bc4afd2d"><view class="bubble data-v-bc4afd2d"><block wx:if="{{msg.z}}"><text class="text data-v-bc4afd2d">{{msg.A}}</text></block><block wx:elif="{{msg.B}}"><image class="image data-v-bc4afd2d" src="{{msg.C}}" bindtap="{{msg.D}}" mode="widthFix"/></block><block wx:elif="{{msg.E}}"><view class="file-box data-v-bc4afd2d" bindtap="{{msg.I}}"><uni-icons wx:if="{{msg.G}}" class="data-v-bc4afd2d" u-i="{{msg.F}}" bind:__l="__l" u-p="{{msg.G}}"/><text class="file-name data-v-bc4afd2d">{{msg.H}}</text></view></block><block wx:elif="{{msg.J}}"><view class="location-box data-v-bc4afd2d" bindtap="{{msg.N}}"><uni-icons wx:if="{{msg.L}}" class="data-v-bc4afd2d" u-i="{{msg.K}}" bind:__l="__l" u-p="{{msg.L}}"/><text class="location-name data-v-bc4afd2d">{{msg.M}}</text></view></block><block wx:elif="{{msg.O}}"><view class="custom-box data-v-bc4afd2d"><uni-icons wx:if="{{msg.Q}}" class="data-v-bc4afd2d" u-i="{{msg.P}}" bind:__l="__l" u-p="{{msg.Q}}"/><text class="custom-text data-v-bc4afd2d">è‡ªå®šä¹‰æ¶ˆæ¯</text></view></block></view><view class="time data-v-bc4afd2d">{{msg.R}}</view></view><view class="avatar-container data-v-bc4afd2d"><image class="avatar data-v-bc4afd2d" src="{{msg.S}}" mode="aspectFill"/></view></block></view></view></view></scroll-view><view class="{{['input-area', 'data-v-bc4afd2d', w && 'with-panel']}}"><view class="more-btn data-v-bc4afd2d" bindtap="{{n}}"><uni-icons wx:if="{{m}}" class="data-v-bc4afd2d" u-i="bc4afd2d-9" bind:__l="__l" u-p="{{m}}"></uni-icons></view><view class="input-wrapper data-v-bc4afd2d"><block wx:if="{{r0}}"><textarea class="message-input data-v-bc4afd2d" auto-height maxlength="{{500}}" cursor-spacing="{{20}}" show-confirm-bar="{{false}}" bindinput="{{o}}" bindfocus="{{p}}" bindblur="{{q}}" placeholder="è¯·è¾“å…¥æ¶ˆæ¯..." value="{{r}}"></textarea></block></view><view bindtap="{{t}}" class="{{['send-btn', 'data-v-bc4afd2d', v && 'active']}}"><uni-icons wx:if="{{s}}" class="data-v-bc4afd2d" u-i="bc4afd2d-10" bind:__l="__l" u-p="{{s}}"></uni-icons></view></view><view wx:if="{{x}}" class="more-panel data-v-bc4afd2d"><view class="panel-item data-v-bc4afd2d" bindtap="{{z}}"><view class="panel-icon data-v-bc4afd2d"><uni-icons wx:if="{{y}}" class="data-v-bc4afd2d" u-i="bc4afd2d-11" bind:__l="__l" u-p="{{y}}"></uni-icons></view><text class="data-v-bc4afd2d">å›¾ç‰‡</text></view><view class="panel-item data-v-bc4afd2d" bindtap="{{B}}"><view class="panel-icon data-v-bc4afd2d"><uni-icons wx:if="{{A}}" class="data-v-bc4afd2d" u-i="bc4afd2d-12" bind:__l="__l" u-p="{{A}}"></uni-icons></view><text class="data-v-bc4afd2d">ä½ç½®</text></view><view class="panel-item data-v-bc4afd2d" bindtap="{{D}}"><view class="panel-icon data-v-bc4afd2d"><uni-icons wx:if="{{C}}" class="data-v-bc4afd2d" u-i="bc4afd2d-13" bind:__l="__l" u-p="{{C}}"></uni-icons></view><text class="data-v-bc4afd2d">æ–‡ä»¶</text></view></view></view><view wx:if="{{F}}" bindtap="{{G}}" class="{{['drawer-mask', 'data-v-bc4afd2d', H && 'show']}}"></view><view class="{{['member-drawer', 'data-v-bc4afd2d', X && 'show']}}"><view class="drawer-header data-v-bc4afd2d"><view class="drawer-title data-v-bc4afd2d"><text class="title-text data-v-bc4afd2d">ç¾¤æˆå‘˜</text><text class="title-count data-v-bc4afd2d">({{I}})</text></view><view class="close-btn data-v-bc4afd2d" bindtap="{{K}}"><uni-icons wx:if="{{J}}" class="data-v-bc4afd2d" u-i="bc4afd2d-14" bind:__l="__l" u-p="{{J}}"/></view></view><view class="drawer-search data-v-bc4afd2d"><view class="search-input-wrapper data-v-bc4afd2d"><uni-icons wx:if="{{L}}" class="data-v-bc4afd2d" u-i="bc4afd2d-15" bind:__l="__l" u-p="{{L}}"/><input class="search-input data-v-bc4afd2d" placeholder="æœç´¢æˆå‘˜æ˜µç§°æˆ–å­¦å·" bindinput="{{M}}" value="{{N}}"/><view wx:if="{{O}}" class="clear-btn data-v-bc4afd2d" bindtap="{{Q}}"><uni-icons wx:if="{{P}}" class="data-v-bc4afd2d" u-i="bc4afd2d-16" bind:__l="__l" u-p="{{P}}"/></view></view></view><scroll-view class="drawer-content data-v-bc4afd2d" scroll-y><view class="member-list data-v-bc4afd2d"><view wx:for="{{R}}" wx:for-item="member" wx:key="j" class="member-item data-v-bc4afd2d"><view class="avatar-wrapper data-v-bc4afd2d"><image class="avatar data-v-bc4afd2d" src="{{member.a}}" mode="aspectFill"/><view class="{{['online-dot', 'data-v-bc4afd2d', member.b]}}"></view></view><view class="member-info data-v-bc4afd2d"><view class="nickname data-v-bc4afd2d">{{member.c}} <text wx:if="{{member.d}}" class="role-badge data-v-bc4afd2d">ğŸ–ï¸</text><text wx:elif="{{member.e}}" class="role-badge data-v-bc4afd2d">ğŸ›¡ï¸</text></view><view wx:if="{{member.f}}" class="member-meta data-v-bc4afd2d"><text class="student-id data-v-bc4afd2d">{{member.g}}</text></view></view><view class="member-status data-v-bc4afd2d"><text class="{{['status-text', 'data-v-bc4afd2d', member.i]}}">{{member.h}}</text></view></view><view wx:if="{{S}}" class="empty-state data-v-bc4afd2d"><uni-icons wx:if="{{T}}" class="data-v-bc4afd2d" u-i="bc4afd2d-17" bind:__l="__l" u-p="{{T}}"/><text class="empty-text data-v-bc4afd2d">{{U}}</text></view><view wx:if="{{V}}" class="loading-state data-v-bc4afd2d"><uni-icons wx:if="{{W}}" class="data-v-bc4afd2d" u-i="bc4afd2d-18" bind:__l="__l" u-p="{{W}}"/><text class="loading-text data-v-bc4afd2d">åŠ è½½ä¸­...</text></view></view></scroll-view></view>